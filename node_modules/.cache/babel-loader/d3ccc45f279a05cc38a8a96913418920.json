{"remainingRequest":"C:\\Users\\Fatemeh-PC\\projects\\unip\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Fatemeh-PC\\projects\\unip\\node_modules\\vuetify\\lib\\util\\color\\APCA.mjs","dependencies":[{"path":"C:\\Users\\Fatemeh-PC\\projects\\unip\\node_modules\\vuetify\\lib\\util\\color\\APCA.mjs","mtime":1677410142149},{"path":"C:\\Users\\Fatemeh-PC\\projects\\unip\\babel.config.js","mtime":1677518258895},{"path":"C:\\Users\\Fatemeh-PC\\projects\\unip\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645018631037},{"path":"C:\\Users\\Fatemeh-PC\\projects\\unip\\node_modules\\babel-loader\\lib\\index.js","mtime":1677348859628}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiAqIFdDQUcgMy4wIEFQQ0EgcGVyY2VwdHVhbCBjb250cmFzdCBhbGdvcml0aG0gZnJvbSBodHRwczovL2dpdGh1Yi5jb20vTXluZGV4L1NBUEMtQVBDQQogKiBAbGljZW5jZSBodHRwczovL3d3dy53My5vcmcvQ29uc29ydGl1bS9MZWdhbC8yMDE1L2NvcHlyaWdodC1zb2Z0d2FyZS1hbmQtZG9jdW1lbnQKICogQHNlZSBodHRwczovL3d3dy53My5vcmcvV0FJL0dML3Rhc2stZm9yY2VzL3NpbHZlci93aWtpL1Zpc3VhbF9Db250cmFzdF9vZl9UZXh0X1N1Ymdyb3VwCiAqLwoKLy8gTUFHSUNBTCBOVU1CRVJTCgovLyBzUkdCIENvbnZlcnNpb24gdG8gUmVsYXRpdmUgTHVtaW5hbmNlIChZKQoKLy8gVHJhbnNmZXIgQ3VydmUgKGFrYSAiR2FtbWEiKSBmb3Igc1JHQiBsaW5lYXJpemF0aW9uCi8vIFNpbXBsZSBwb3dlciBjdXJ2ZSB2cyBwaWVjZXdpc2UgZGVzY3JpYmVkIGluIGRvY3MKLy8gRXNzZW50aWFsbHksIDIuNCBiZXN0IG1vZGVscyBhY3R1YWwgZGlzcGxheQovLyBjaGFyYWN0ZXJpc3RpY3MgaW4gY29tYmluYXRpb24gd2l0aCB0aGUgdG90YWwgbWV0aG9kCmNvbnN0IG1haW5UUkMgPSAyLjQ7CmNvbnN0IFJjbyA9IDAuMjEyNjcyOTsgLy8gc1JHQiBSZWQgQ29lZmZpY2llbnQgKGZyb20gbWF0cml4KQpjb25zdCBHY28gPSAwLjcxNTE1MjI7IC8vIHNSR0IgR3JlZW4gQ29lZmZpY2llbnQgKGZyb20gbWF0cml4KQpjb25zdCBCY28gPSAwLjA3MjE3NTA7IC8vIHNSR0IgQmx1ZSBDb2VmZmljaWVudCAoZnJvbSBtYXRyaXgpCgovLyBGb3IgRmluZGluZyBSYXcgU0FQQyBDb250cmFzdCBmcm9tIFJlbGF0aXZlIEx1bWluYW5jZSAoWSkKCi8vIENvbnN0YW50cyBmb3IgU0FQQyBQb3dlciBDdXJ2ZSBFeHBvbmVudHMKLy8gT25lIHBhaXIgZm9yIG5vcm1hbCB0ZXh0LCBhbmQgb25lIGZvciByZXZlcnNlCi8vIFRoZXNlIGFyZSB0aGUgImJlYXRpbmcgaGVhcnQiIG9mIFNBUEMKY29uc3Qgbm9ybUJHID0gMC41NTsKY29uc3Qgbm9ybVRYVCA9IDAuNTg7CmNvbnN0IHJldlRYVCA9IDAuNTc7CmNvbnN0IHJldkJHID0gMC42MjsKCi8vIEZvciBDbGFtcGluZyBhbmQgU2NhbGluZyBWYWx1ZXMKCmNvbnN0IGJsa1RocnMgPSAwLjAzOyAvLyBMZXZlbCB0aGF0IHRyaWdnZXJzIHRoZSBzb2Z0IGJsYWNrIGNsYW1wCmNvbnN0IGJsa0NsbXAgPSAxLjQ1OyAvLyBFeHBvbmVudCBmb3IgdGhlIHNvZnQgYmxhY2sgY2xhbXAgY3VydmUKY29uc3QgZGVsdGFZbWluID0gMC4wMDA1OyAvLyBMaW50IHRyYXAKY29uc3Qgc2NhbGVCb1cgPSAxLjI1OyAvLyBTY2FsaW5nIGZvciBkYXJrIHRleHQgb24gbGlnaHQKY29uc3Qgc2NhbGVXb0IgPSAxLjI1OyAvLyBTY2FsaW5nIGZvciBsaWdodCB0ZXh0IG9uIGRhcmsKY29uc3QgbG9Db25UaHJlc2ggPSAwLjA3ODsgLy8gVGhyZXNob2xkIGZvciBuZXcgc2ltcGxlIG9mZnNldCBzY2FsZQpjb25zdCBsb0NvbkZhY3RvciA9IDEyLjgyMDUxMjgyMDUxMjgyOyAvLyA9IDEvMC4wNzgsCmNvbnN0IGxvQ29uT2Zmc2V0ID0gMC4wNjsgLy8gVGhlIHNpbXBsZSBvZmZzZXQKY29uc3QgbG9DbGlwID0gMC4wMDE7IC8vIE91dHB1dCBjbGlwIChsaW50IHRyYXAgIzIpCgpleHBvcnQgZnVuY3Rpb24gQVBDQWNvbnRyYXN0KHRleHQsIGJhY2tncm91bmQpIHsKICAvLyBMaW5lYXJpemUgc1JHQgogIGNvbnN0IFJ0eHQgPSAodGV4dC5yIC8gMjU1KSAqKiBtYWluVFJDOwogIGNvbnN0IEd0eHQgPSAodGV4dC5nIC8gMjU1KSAqKiBtYWluVFJDOwogIGNvbnN0IEJ0eHQgPSAodGV4dC5iIC8gMjU1KSAqKiBtYWluVFJDOwogIGNvbnN0IFJiZyA9IChiYWNrZ3JvdW5kLnIgLyAyNTUpICoqIG1haW5UUkM7CiAgY29uc3QgR2JnID0gKGJhY2tncm91bmQuZyAvIDI1NSkgKiogbWFpblRSQzsKICBjb25zdCBCYmcgPSAoYmFja2dyb3VuZC5iIC8gMjU1KSAqKiBtYWluVFJDOwoKICAvLyBBcHBseSB0aGUgc3RhbmRhcmQgY29lZmZpY2llbnRzIGFuZCBzdW0gdG8gWQogIGxldCBZdHh0ID0gUnR4dCAqIFJjbyArIEd0eHQgKiBHY28gKyBCdHh0ICogQmNvOwogIGxldCBZYmcgPSBSYmcgKiBSY28gKyBHYmcgKiBHY28gKyBCYmcgKiBCY287CgogIC8vIFNvZnQgY2xhbXAgWSB3aGVuIG5lYXIgYmxhY2suCiAgLy8gTm93IGNsYW1waW5nIGFsbCBjb2xvcnMgdG8gcHJldmVudCBjcm9zc292ZXIgZXJyb3JzCiAgaWYgKFl0eHQgPD0gYmxrVGhycykgWXR4dCArPSAoYmxrVGhycyAtIFl0eHQpICoqIGJsa0NsbXA7CiAgaWYgKFliZyA8PSBibGtUaHJzKSBZYmcgKz0gKGJsa1RocnMgLSBZYmcpICoqIGJsa0NsbXA7CgogIC8vIFJldHVybiAwIEVhcmx5IGZvciBleHRyZW1lbHkgbG93IOKIhlkgKGxpbnQgdHJhcCAjMSkKICBpZiAoTWF0aC5hYnMoWWJnIC0gWXR4dCkgPCBkZWx0YVltaW4pIHJldHVybiAwLjA7CgogIC8vIFNBUEMgQ09OVFJBU1QKCiAgbGV0IG91dHB1dENvbnRyYXN0OyAvLyBGb3Igd2VpZ2h0ZWQgZmluYWwgdmFsdWVzCiAgaWYgKFliZyA+IFl0eHQpIHsKICAgIC8vIEZvciBub3JtYWwgcG9sYXJpdHksIGJsYWNrIHRleHQgb24gd2hpdGUKICAgIC8vIENhbGN1bGF0ZSB0aGUgU0FQQyBjb250cmFzdCB2YWx1ZSBhbmQgc2NhbGUKCiAgICBjb25zdCBTQVBDID0gKFliZyAqKiBub3JtQkcgLSBZdHh0ICoqIG5vcm1UWFQpICogc2NhbGVCb1c7CgogICAgLy8gTkVXISBTQVBDIFNtb290aFNjYWxl4oSiCiAgICAvLyBMb3cgQ29udHJhc3QgU21vb3RoIFNjYWxlIFJvbGxvdXQgdG8gcHJldmVudCBwb2xhcml0eSByZXZlcnNhbAogICAgLy8gYW5kIGFsc28gYSBsb3cgY2xpcCBmb3IgdmVyeSBsb3cgY29udHJhc3RzIChsaW50IHRyYXAgIzIpCiAgICAvLyBtdWNoIG9mIHRoaXMgaXMgZm9yIHZlcnkgbG93IGNvbnRyYXN0cywgbGVzcyB0aGFuIDEwCiAgICAvLyB0aGVyZWZvcmUgZm9yIG1vc3QgcmV2ZXJzaW5nIG5lZWRzLCBvbmx5IGxvQ29uT2Zmc2V0IGlzIGltcG9ydGFudAogICAgb3V0cHV0Q29udHJhc3QgPSBTQVBDIDwgbG9DbGlwID8gMC4wIDogU0FQQyA8IGxvQ29uVGhyZXNoID8gU0FQQyAtIFNBUEMgKiBsb0NvbkZhY3RvciAqIGxvQ29uT2Zmc2V0IDogU0FQQyAtIGxvQ29uT2Zmc2V0OwogIH0gZWxzZSB7CiAgICAvLyBGb3IgcmV2ZXJzZSBwb2xhcml0eSwgbGlnaHQgdGV4dCBvbiBkYXJrCiAgICAvLyBXb0Igc2hvdWxkIGFsd2F5cyByZXR1cm4gbmVnYXRpdmUgdmFsdWUuCgogICAgY29uc3QgU0FQQyA9IChZYmcgKiogcmV2QkcgLSBZdHh0ICoqIHJldlRYVCkgKiBzY2FsZVdvQjsKICAgIG91dHB1dENvbnRyYXN0ID0gU0FQQyA+IC1sb0NsaXAgPyAwLjAgOiBTQVBDID4gLWxvQ29uVGhyZXNoID8gU0FQQyAtIFNBUEMgKiBsb0NvbkZhY3RvciAqIGxvQ29uT2Zmc2V0IDogU0FQQyArIGxvQ29uT2Zmc2V0OwogIH0KICByZXR1cm4gb3V0cHV0Q29udHJhc3QgKiAxMDA7Cn0="},{"version":3,"names":["mainTRC","Rco","Gco","Bco","normBG","normTXT","revTXT","revBG","blkThrs","blkClmp","deltaYmin","scaleBoW","scaleWoB","loConThresh","loConFactor","loConOffset","loClip","APCAcontrast","text","background","Rtxt","r","Gtxt","g","Btxt","b","Rbg","Gbg","Bbg","Ytxt","Ybg","Math","abs","outputContrast","SAPC"],"sources":["../../../src/util/color/APCA.ts"],"sourcesContent":["/**\n * WCAG 3.0 APCA perceptual contrast algorithm from https://github.com/Myndex/SAPC-APCA\n * @licence https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n * @see https://www.w3.org/WAI/GL/task-forces/silver/wiki/Visual_Contrast_of_Text_Subgroup\n */\nimport type { RGB } from '@/util'\n\n// MAGICAL NUMBERS\n\n// sRGB Conversion to Relative Luminance (Y)\n\n// Transfer Curve (aka \"Gamma\") for sRGB linearization\n// Simple power curve vs piecewise described in docs\n// Essentially, 2.4 best models actual display\n// characteristics in combination with the total method\nconst mainTRC = 2.4\n\nconst Rco = 0.2126729 // sRGB Red Coefficient (from matrix)\nconst Gco = 0.7151522 // sRGB Green Coefficient (from matrix)\nconst Bco = 0.0721750 // sRGB Blue Coefficient (from matrix)\n\n// For Finding Raw SAPC Contrast from Relative Luminance (Y)\n\n// Constants for SAPC Power Curve Exponents\n// One pair for normal text, and one for reverse\n// These are the \"beating heart\" of SAPC\nconst normBG = 0.55\nconst normTXT = 0.58\nconst revTXT = 0.57\nconst revBG = 0.62\n\n// For Clamping and Scaling Values\n\nconst blkThrs = 0.03 // Level that triggers the soft black clamp\nconst blkClmp = 1.45 // Exponent for the soft black clamp curve\nconst deltaYmin = 0.0005 // Lint trap\nconst scaleBoW = 1.25 // Scaling for dark text on light\nconst scaleWoB = 1.25 // Scaling for light text on dark\nconst loConThresh = 0.078 // Threshold for new simple offset scale\nconst loConFactor = 12.82051282051282 // = 1/0.078,\nconst loConOffset = 0.06 // The simple offset\nconst loClip = 0.001 // Output clip (lint trap #2)\n\nexport function APCAcontrast (text: RGB, background: RGB) {\n  // Linearize sRGB\n  const Rtxt = (text.r / 255) ** mainTRC\n  const Gtxt = (text.g / 255) ** mainTRC\n  const Btxt = (text.b / 255) ** mainTRC\n\n  const Rbg = (background.r / 255) ** mainTRC\n  const Gbg = (background.g / 255) ** mainTRC\n  const Bbg = (background.b / 255) ** mainTRC\n\n  // Apply the standard coefficients and sum to Y\n  let Ytxt = (Rtxt * Rco) + (Gtxt * Gco) + (Btxt * Bco)\n  let Ybg = (Rbg * Rco) + (Gbg * Gco) + (Bbg * Bco)\n\n  // Soft clamp Y when near black.\n  // Now clamping all colors to prevent crossover errors\n  if (Ytxt <= blkThrs) Ytxt += (blkThrs - Ytxt) ** blkClmp\n  if (Ybg <= blkThrs) Ybg += (blkThrs - Ybg) ** blkClmp\n\n  // Return 0 Early for extremely low ∆Y (lint trap #1)\n  if (Math.abs(Ybg - Ytxt) < deltaYmin) return 0.0\n\n  // SAPC CONTRAST\n\n  let outputContrast: number // For weighted final values\n  if (Ybg > Ytxt) {\n    // For normal polarity, black text on white\n    // Calculate the SAPC contrast value and scale\n\n    const SAPC = ((Ybg ** normBG) - (Ytxt ** normTXT)) * scaleBoW\n\n    // NEW! SAPC SmoothScale™\n    // Low Contrast Smooth Scale Rollout to prevent polarity reversal\n    // and also a low clip for very low contrasts (lint trap #2)\n    // much of this is for very low contrasts, less than 10\n    // therefore for most reversing needs, only loConOffset is important\n    outputContrast =\n      (SAPC < loClip) ? 0.0\n      : (SAPC < loConThresh) ? SAPC - SAPC * loConFactor * loConOffset\n      : SAPC - loConOffset\n  } else {\n    // For reverse polarity, light text on dark\n    // WoB should always return negative value.\n\n    const SAPC = ((Ybg ** revBG) - (Ytxt ** revTXT)) * scaleWoB\n\n    outputContrast =\n      (SAPC > -loClip) ? 0.0\n      : (SAPC > -loConThresh) ? SAPC - SAPC * loConFactor * loConOffset\n      : SAPC + loConOffset\n  }\n\n  return outputContrast * 100\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,MAAMA,OAAO,GAAG,GAAG;AAEnB,MAAMC,GAAG,GAAG,SAAS,EAAC;AACtB,MAAMC,GAAG,GAAG,SAAS,EAAC;AACtB,MAAMC,GAAG,GAAG,SAAS,EAAC;;AAEtB;;AAEA;AACA;AACA;AACA,MAAMC,MAAM,GAAG,IAAI;AACnB,MAAMC,OAAO,GAAG,IAAI;AACpB,MAAMC,MAAM,GAAG,IAAI;AACnB,MAAMC,KAAK,GAAG,IAAI;;AAElB;;AAEA,MAAMC,OAAO,GAAG,IAAI,EAAC;AACrB,MAAMC,OAAO,GAAG,IAAI,EAAC;AACrB,MAAMC,SAAS,GAAG,MAAM,EAAC;AACzB,MAAMC,QAAQ,GAAG,IAAI,EAAC;AACtB,MAAMC,QAAQ,GAAG,IAAI,EAAC;AACtB,MAAMC,WAAW,GAAG,KAAK,EAAC;AAC1B,MAAMC,WAAW,GAAG,iBAAiB,EAAC;AACtC,MAAMC,WAAW,GAAG,IAAI,EAAC;AACzB,MAAMC,MAAM,GAAG,KAAK,EAAC;;AAErB,OAAO,SAASC,YAAYA,CAAEC,IAAS,EAAEC,UAAe,EAAE;EACxD;EACA,MAAMC,IAAI,GAAG,CAACF,IAAI,CAACG,CAAC,GAAG,GAAG,KAAKrB,OAAO;EACtC,MAAMsB,IAAI,GAAG,CAACJ,IAAI,CAACK,CAAC,GAAG,GAAG,KAAKvB,OAAO;EACtC,MAAMwB,IAAI,GAAG,CAACN,IAAI,CAACO,CAAC,GAAG,GAAG,KAAKzB,OAAO;EAEtC,MAAM0B,GAAG,GAAG,CAACP,UAAU,CAACE,CAAC,GAAG,GAAG,KAAKrB,OAAO;EAC3C,MAAM2B,GAAG,GAAG,CAACR,UAAU,CAACI,CAAC,GAAG,GAAG,KAAKvB,OAAO;EAC3C,MAAM4B,GAAG,GAAG,CAACT,UAAU,CAACM,CAAC,GAAG,GAAG,KAAKzB,OAAO;;EAE3C;EACA,IAAI6B,IAAI,GAAIT,IAAI,GAAGnB,GAAG,GAAKqB,IAAI,GAAGpB,GAAI,GAAIsB,IAAI,GAAGrB,GAAI;EACrD,IAAI2B,GAAG,GAAIJ,GAAG,GAAGzB,GAAG,GAAK0B,GAAG,GAAGzB,GAAI,GAAI0B,GAAG,GAAGzB,GAAI;;EAEjD;EACA;EACA,IAAI0B,IAAI,IAAIrB,OAAO,EAAEqB,IAAI,IAAI,CAACrB,OAAO,GAAGqB,IAAI,KAAKpB,OAAO;EACxD,IAAIqB,GAAG,IAAItB,OAAO,EAAEsB,GAAG,IAAI,CAACtB,OAAO,GAAGsB,GAAG,KAAKrB,OAAO;;EAErD;EACA,IAAIsB,IAAI,CAACC,GAAG,CAACF,GAAG,GAAGD,IAAI,CAAC,GAAGnB,SAAS,EAAE,OAAO,GAAG;;EAEhD;;EAEA,IAAIuB,cAAsB,EAAC;EAC3B,IAAIH,GAAG,GAAGD,IAAI,EAAE;IACd;IACA;;IAEA,MAAMK,IAAI,GAAG,CAAEJ,GAAG,IAAI1B,MAAM,GAAKyB,IAAI,IAAIxB,OAAQ,IAAIM,QAAQ;;IAE7D;IACA;IACA;IACA;IACA;IACAsB,cAAc,GACXC,IAAI,GAAGlB,MAAM,GAAI,GAAG,GAClBkB,IAAI,GAAGrB,WAAW,GAAIqB,IAAI,GAAGA,IAAI,GAAGpB,WAAW,GAAGC,WAAW,GAC9DmB,IAAI,GAAGnB,WAAW;EACxB,CAAC,MAAM;IACL;IACA;;IAEA,MAAMmB,IAAI,GAAG,CAAEJ,GAAG,IAAIvB,KAAK,GAAKsB,IAAI,IAAIvB,MAAO,IAAIM,QAAQ;IAE3DqB,cAAc,GACXC,IAAI,GAAG,CAAClB,MAAM,GAAI,GAAG,GACnBkB,IAAI,GAAG,CAACrB,WAAW,GAAIqB,IAAI,GAAGA,IAAI,GAAGpB,WAAW,GAAGC,WAAW,GAC/DmB,IAAI,GAAGnB,WAAW;EACxB;EAEA,OAAOkB,cAAc,GAAG,GAAG;AAC7B"}]}