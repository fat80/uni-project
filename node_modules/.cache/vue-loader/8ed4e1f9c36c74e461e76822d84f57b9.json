{"remainingRequest":"C:\\Users\\Fatemeh-PC\\projects\\unip\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Fatemeh-PC\\projects\\unip\\node_modules\\vue2-persian-datepicker\\src\\components\\PDatePicker.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Fatemeh-PC\\projects\\unip\\node_modules\\vue2-persian-datepicker\\src\\components\\PDatePicker.vue","mtime":1678821399399},{"path":"C:\\Users\\Fatemeh-PC\\projects\\unip\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645018631037},{"path":"C:\\Users\\Fatemeh-PC\\projects\\unip\\node_modules\\babel-loader\\lib\\index.js","mtime":1677348859628},{"path":"C:\\Users\\Fatemeh-PC\\projects\\unip\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645018631037},{"path":"C:\\Users\\Fatemeh-PC\\projects\\unip\\node_modules\\vue-loader\\lib\\index.js","mtime":1677348935739}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lIDogJ1BEYXRlUGlja2VyJywKICBwcm9wcyA6IHsKICAgICAgJ3BsYWNlaG9sZGVyJyA6IHsgZGVmYXVsdCA6ICfbjNqpINiq2KfYsduM2K4g2LHYpyDYp9mG2KrYrtin2Kgg2qnZhtuM2K8nLCB0eXBlOiBTdHJpbmd9LAogICAgICAnaGVhZGVyQmFja2dyb3VuZENvbG9yJyA6eyBkZWZhdWx0IDogJyMxMzdlOTUnICwgdHlwZTogU3RyaW5nIH0sCiAgICAgICdoZWFkZXJDb2xvcicgOiB7IGRlZmF1bHQgOiAnd2hpdGUnLCB0eXBlOiBTdHJpbmd9LAogICAgICAnZGlhbG9nQ29sb3InIDogeyBkZWZhdWx0IDogJ2JsYWNrJywgdHlwZTogU3RyaW5nfSwKICAgICAgJ2RpYWxvZ0JhY2tncm91bmRDb2xvcicgOiB7IGRlZmF1bHQgOiAnI2ZhZmFmYScsIHR5cGU6IFN0cmluZ30sCiAgICAgICdob3ZlckRheUJhY2tDb2xvcicgOiB7IGRlZmF1bHQgOiAnIzFhZjdmZicsIHR5cGU6IFN0cmluZyB9LAogICAgICAnY2hvc2VuRGF5QmFja0NvbG9yJyA6IHsgZGVmYXVsdCA6ICcjMWFkN2ZmJywgdHlwZTogU3RyaW5nIH0sCiAgICAgICdtaW5pbXVtWWVhcicgOiB7IGRlZmF1bHQgOiAxMzAwLCB0eXBlOiBOdW1iZXJ9LAogICAgICAnbWF4aW11bVllYXInIDogeyBkZWZhdWx0IDogMTQ1MCwgdHlwZTogTnVtYmVyIH0sCiAgICAgICdkaXNhYmxlRGF0ZXNCZWZvcmVUb2RheScgOiB7IGRlZmF1bHQgOiBmYWxzZSwgdHlwZTogQm9vbGVhbiB9LAogICAgICAnYXZhaWxhYmxlRGF0ZXMnIDogeyBkZWZhdWx0IDogZmFsc2UsIHR5cGU6IEJvb2xlYW4gfSwKICAgICAgJ2F2YWlsYWJsZURhdGVTdGFydCcgOiB7IGRlZmF1bHQ6ICcxMzAwLzAxLzAxJywgdHlwZTogU3RyaW5nLAogICAgICAgICAgdmFsaWRhdG9yICh2YWx1ZSl7CiAgICAgICAgICAgICAgaWYodmFsdWUgPT09ICcnKSByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICBsZXQgZWxlbWVudHMgPSB2YWx1ZS5zcGxpdCgnLycpOwogICAgICAgICAgICAgIGlmKGVsZW1lbnRzLmxlbmd0aCAhPT0gMykgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgIGlmKHBhcnNlSW50KGVsZW1lbnRzWzBdKSA8IDEzMDApIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICBsZXQgbW9udGggPSBwYXJzZUludChlbGVtZW50c1sxXSk7CiAgICAgICAgICAgICAgaWYobW9udGggPCAxIHx8IG1vbnRoID4gMTIpIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICBsZXQgZGF5ID0gcGFyc2VJbnQoZWxlbWVudHNbMl0pOwogICAgICAgICAgICAgIGlmKGRheSA8IDEgfHwgZGF5ID4gMzEpIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgfSwKICAgICAgJ2F2YWlsYWJsZURhdGVFbmQnIDogeyBkZWZhdWx0OiAnMTQ1MC8xMi8yOScsIHR5cGU6IFN0cmluZywKICAgICAgICAgIHZhbGlkYXRvciAodmFsdWUpewogICAgICAgICAgICAgIGlmKHZhbHVlID09PSAnJykgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgbGV0IGVsZW1lbnRzID0gdmFsdWUuc3BsaXQoJy8nKTsKICAgICAgICAgICAgICBpZihlbGVtZW50cy5sZW5ndGggIT09IDMpIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICBpZihwYXJzZUludChlbGVtZW50c1swXSkgPCAxMzAwKSByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgbGV0IG1vbnRoID0gcGFyc2VJbnQoZWxlbWVudHNbMV0pOwogICAgICAgICAgICAgIGlmKG1vbnRoIDwgMSB8fCBtb250aCA+IDEyKSByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgbGV0IGRheSA9IHBhcnNlSW50KGVsZW1lbnRzWzJdKTsKICAgICAgICAgICAgICBpZihkYXkgPCAxIHx8IGRheSA+IDMxKSByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CiAgICAgIH0sCiAgICAgICd2YWx1ZScgOiB7IGRlZmF1bHQgOiAnJyB9LAogICAgICAnbmFtZScgOiB7IGRlZmF1bHQgOiAnJywgdHlwZSA6IFN0cmluZyB9LAogICAgICAncmVxdWlyZWQnIDogeyBkZWZhdWx0IDogZmFsc2UsdHlwZSA6IEJvb2xlYW4gfSwKICAgICAgJ2lkJyA6IHsgZGVmYXVsdCA6ICcnLCB0eXBlIDogU3RyaW5nfSwKICAgICAgJ2lucHV0Q2xhc3MnOiB7IGRlZmF1bHQgOiAnJywgdHlwZSA6U3RyaW5nIH0sCiAgICAgICdkaWFsb2dDbGFzcycgOiAge2RlZmF1bHQgOiAnJyx0eXBlIDogU3RyaW5nIH0sCiAgICAgICd3cmFwcGVyQ2xhc3MnIDogIHtkZWZhdWx0IDogJycsdHlwZSA6IFN0cmluZyB9LAogICAgICAnaW5pdGlhbFZpZXcnIDogeyBkZWZhdWx0OiAnZGF5Jyx0eXBlIDogU3RyaW5nLAogICAgICAgICAgICAgIHZhbGlkYXRvciAodmFsdWUpewogICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPT09ICdkYXknIHx8IHZhbHVlID09PSAnbW9udGgnCiAgICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgJ2lubGluZU1vZGUnIDogeyBkZWZhdWx0IDogZmFsc2UsIHR5cGUgOkJvb2xlYW4gfSwKICAgICAgJ2lucHV0RGlzYWJsZWQnIDogeyBkZWZhdWx0IDogdHJ1ZSwgdHlwZSA6Qm9vbGVhbiB9LAogICAgICAnZm9ybWF0RGF0ZScgOiB7IGRlZmF1bHQ6ICd5eXl5L01NL2RkJyx0eXBlIDogU3RyaW5nLAogICAgICAgICAgICAgIHZhbGlkYXRvciAodmFsdWUpIHsKICAgICAgICAgICAgICAgICAgbGV0IGVsZW1lbnRzID0gdmFsdWUuc3BsaXQoIi8iKTsKICAgICAgICAgICAgICAgICAgaWYoZWxlbWVudHMubGVuZ3RoICE9PSAzKSByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgIGlmKGVsZW1lbnRzWzBdICE9PSAieXl5eSIgJiYgZWxlbWVudHNbMF0gIT09ICJ5eSIpIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgICAgaWYoZWxlbWVudHNbMV0gIT09ICJNIiAmJiBlbGVtZW50c1sxXSAhPT0gIk1NIiAmJiBlbGVtZW50c1sxXSAhPT0gIk1NTSIpIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgICAgaWYoZWxlbWVudHNbMl0gIT09ICJkIiAmJiBlbGVtZW50c1syXSAhPT0gImRkIikgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAnb3BlblRyYW5zaXRpb25BbmltYXRpb24nIDogeyBkZWZhdWx0OiAnc2xpZGUtZmFkZScgLHR5cGUgOiBTdHJpbmcgfSwKICAgICAgJ3BlcnNpYW5EaWdpdHMnIDogeyBkZWZhdWx0IDogdHJ1ZSx0eXBlIDogQm9vbGVhbiB9LAogICAgICAnbW9kYWxNb2RlJyA6IHsgZGVmYXVsdDogZmFsc2UsdHlwZSA6IEJvb2xlYW4gfSwKICAgICAgJ21vZGFsT3BlblRyYW5zaXRpb25BbmltYXRpb24nIDogeyBkZWZhdWx0OiAnc2NhbGUtZmFkZScsIHR5cGUgOiBTdHJpbmcgfQogIH0sCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICAgIGlzRGlhbG9nT3BlbiA6IGZhbHNlLAogICAgICAgIGlzRGF5VmlldyA6IHRydWUsCiAgICAgICAgaXNNb250aFZpZXcgOiBmYWxzZSwKICAgICAgICBpc1llYXJWaWV3OiBmYWxzZSwKICAgICAgICBkYXlOYW1lcyA6IFsn2LQnLCAn24wnLCAn2K8nLCAn2LMnLCAn2oYnLCAn2b4nLCAn2KwnXSwKICAgICAgICBtb250aE5hbWVzIDogWyfZgdix2YjYsdiv24zZhicsICfYp9ix2K/bjNio2YfYtNiqJywgJ9iu2LHYr9in2K8nLCAn2KrbjNixJywgJ9mF2LHYr9in2K8nLCAn2LTZh9ix24zZiNixJyAsJ9mF2YfYsScgLCfYotio2KfZhicgLCfYotiw2LEnLCAn2K/bjCcgLCfYqNmH2YXZhicsICfYp9iz2YHZhtivJ10sCiAgICAgICAgZGF5SW5UaGlzTW9udGg6IDEsCiAgICAgICAgZmlyc3REYXlPZk1vbnRoOiAwLAogICAgICAgIGRheXNJbk1vbnRoOiAzMCwKICAgICAgICBndG9kYXkgOiBbMTM4MCwgMSwgMV0sCiAgICAgICAgZGlzcGxheWluZ01vbnRoTnVtIDogMSwKICAgICAgICBkaXNwbGF5aW5nTW9udGggOiAnJywKICAgICAgICBkaXNwbGF5aW5nWWVhciA6IDEzMDAsCiAgICAgICAgZGF5T2ZXZWVrOiAwLAogICAgICAgIGNob3NlbkRhdGUgOiAnJywKICAgICAgICBmb3JtYXRlZENob3NlbkRhdGUgOiAnJywKICAgICAgICBjaG9zZW5EYXk6IDEsCiAgICAgICAgY2hvc2VuTW9udGggOiAxLAogICAgICAgIGNob3NlblllYXIgOiAxMzk2LAogICAgICAgIHN0YXJ0QXZhaWxhYmxlRGF0ZVYgOiB7CiAgICAgICAgICAgIHllYXIgOiAxMzAwLAogICAgICAgICAgICBtb250aDogMSwKICAgICAgICAgICAgZGF5IDogMQogICAgICAgIH0sCiAgICAgICAgZW5kQXZhaWxhYmxlRGF0ZVYgOiB7CiAgICAgICAgICAgIHllYXIgOiAxNDUwLAogICAgICAgICAgICBtb250aDogMTIsCiAgICAgICAgICAgIGRheSA6IDI5CiAgICAgICAgfQogICAgfQogIH0sCiAgY29tcHV0ZWQ6ewogICAgICAgIGRpYWxvZ0R5bmFtaWNTdHlsZSgpewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgYmFja2dyb3VuZDogdGhpcy5kaWFsb2dCYWNrZ3JvdW5kQ29sb3IsCiAgICAgICAgICAgICAgICBjb2xvcjogdGhpcy5kaWFsb2dDb2xvcgogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBjaG9zZW5EYXlEeW5hbWljU3R5bGUoKXsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHRoaXMuY2hvc2VuRGF5Q29sb3IKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgY01pbmltdW1ZZWFyKCl7CiAgICAgICAgICAgIGlmKHRoaXMuc3RhcnRBdmFpbGFibGVEYXRlVi55ZWFyID4gdGhpcy5taW5pbXVtWWVhcikgewogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnRBdmFpbGFibGVEYXRlVi55ZWFyOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB0aGlzLm1pbmltdW1ZZWFyOwogICAgICAgIH0sCiAgICAgICAgY01heGltdW1ZZWFyKCl7CiAgICAgICAgICAgIGlmKHRoaXMuZW5kQXZhaWxhYmxlRGF0ZVYueWVhciA8IHRoaXMubWF4aW11bVllYXIpIHsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVuZEF2YWlsYWJsZURhdGVWLnllYXI7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHRoaXMubWF4aW11bVllYXI7CiAgICAgICAgfQogIH0sCiAgbW91bnRlZCgpewogICAgaWYodGhpcy5hdmFpbGFibGVEYXRlcyl7CgogICAgICAgIGxldCBlbGVtZW50cyA9IHRoaXMuYXZhaWxhYmxlRGF0ZVN0YXJ0LnNwbGl0KCIvIik7CiAgICAgICAgdGhpcy5zdGFydEF2YWlsYWJsZURhdGVWLnllYXIgPSBwYXJzZUludChlbGVtZW50c1swXSk7CiAgICAgICAgdGhpcy5zdGFydEF2YWlsYWJsZURhdGVWLm1vbnRoID0gcGFyc2VJbnQoZWxlbWVudHNbMV0pOwogICAgICAgIHRoaXMuc3RhcnRBdmFpbGFibGVEYXRlVi5kYXkgPSBwYXJzZUludChlbGVtZW50c1syXSk7CgogICAgICAgIGVsZW1lbnRzID0gdGhpcy5hdmFpbGFibGVEYXRlRW5kLnNwbGl0KCIvIik7CiAgICAgICAgdGhpcy5lbmRBdmFpbGFibGVEYXRlVi55ZWFyID0gcGFyc2VJbnQoZWxlbWVudHNbMF0pOwogICAgICAgIHRoaXMuZW5kQXZhaWxhYmxlRGF0ZVYubW9udGggPSBwYXJzZUludChlbGVtZW50c1sxXSk7CiAgICAgICAgdGhpcy5lbmRBdmFpbGFibGVEYXRlVi5kYXkgPSBwYXJzZUludChlbGVtZW50c1syXSk7CgogICAgfQoKICAgIGlmKHRoaXMuZGlzYWJsZURhdGVzQmVmb3JlVG9kYXkpewogICAgICAgIHRoaXMuYXZhaWxhYmxlRGF0ZXMgPSB0cnVlOwogICAgICAgIGxldCB0b2RheSA9IG5ldyBEYXRlKCk7CiAgICAgICAgbGV0IGdUb2RheSA9IHRoaXMuZ3JlZ29yaWFuX3RvX2phbGFsaSh0b2RheS5nZXRGdWxsWWVhcigpLCB0b2RheS5nZXRNb250aCgpICsgMSwgdG9kYXkuZ2V0RGF0ZSgpKTsKICAgICAgICBsZXQgZ1RvZGF5TnVtID0gZ1RvZGF5WzBdICogMTAwMDAgKwogICAgICAgICAgICAgICAgZ1RvZGF5WzFdICogMTAwICsKICAgICAgICAgICAgICAgIGdUb2RheVsyXTsKCiAgICAgICAgbGV0IHNkYXRlID0gdGhpcy5zdGFydEF2YWlsYWJsZURhdGVWLnllYXIgKiAxMDAwMCArCiAgICAgICAgICAgICAgICAodGhpcy5zdGFydEF2YWlsYWJsZURhdGVWLm1vbnRoKSAqIDEwMCArCiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0QXZhaWxhYmxlRGF0ZVYuZGF5OwoKICAgICAgICBpZihzZGF0ZSAtIGdUb2RheU51bSA8IDApewogICAgICAgICAgICB0aGlzLnN0YXJ0QXZhaWxhYmxlRGF0ZVYueWVhciA9IGdUb2RheVswXTsKICAgICAgICAgICAgdGhpcy5zdGFydEF2YWlsYWJsZURhdGVWLm1vbnRoID0gZ1RvZGF5WzFdOwogICAgICAgICAgICB0aGlzLnN0YXJ0QXZhaWxhYmxlRGF0ZVYuZGF5ID0gZ1RvZGF5WzJdOwogICAgICAgIH0KICAgIH0KCgoKCiAgICBpZih0aGlzLmlucHV0Q2hlY2sodGhpcy52YWx1ZSkpewogICAgICAgIHRoaXMuaW5wdXRDaGFuZ2VkKHRoaXMudmFsdWUpOwogICAgfSBlbHNlIGlmKHRoaXMuaXNUb0RheUluUmFuZ2UoKSl7CiAgICAgICAgdGhpcy5nb1RvVG9kYXkoKTsKICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5nb1RvTW9udGgodGhpcy5zdGFydEF2YWlsYWJsZURhdGVWLnllYXIgLCB0aGlzLnN0YXJ0QXZhaWxhYmxlRGF0ZVYubW9udGggLSAxLCB0aGlzLnN0YXJ0QXZhaWxhYmxlRGF0ZVYuZGF5KTsKICAgIH0KCiAgICBpZih0aGlzLmlubGluZU1vZGUpewogICAgICAgIHRoaXMub3BlbkRpYWxvZygpOwogICAgfQoKICAgIGlmICghdGhpcy5pbmxpbmVNb2RlICYmICF0aGlzLm1vZGFsTW9kZSl7CiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkV4aXQsIGZhbHNlKTsKICAgIH0KICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uICgpIHsKICAgIGlmICghdGhpcy5pbmxpbmVNb2RlICYmICF0aGlzLm1vZGFsTW9kZSl7CiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkV4aXQsIGZhbHNlKTsKICAgIH0KICB9LAogIHdhdGNoOnsKICAgICAgdmFsdWUgOiBmdW5jdGlvbih2YWx1ZSl7CiAgICAgICAgICB0aGlzLmlucHV0Q2hhbmdlZCh2YWx1ZSk7CiAgICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGlucHV0Q2xpY2tlZCAoKSB7CiAgICAgICAgaWYoIXRoaXMuaXNEaWFsb2dPcGVuKQogICAgICAgICAgICB0aGlzLm9wZW5EaWFsb2coKTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIHRoaXMuY2xvc2VEaWFsb2coKTsKICAgIH0sCiAgICBoYXNJbnB1dENsYXNzKCl7CiAgICAgICAgcmV0dXJuIGlucHV0Q2xhc3MgIT09ICcnOwogICAgfSwKICAgIG9wZW5EaWFsb2coKXsKICAgICAgICBpZih0aGlzLmlzRGlhbG9nT3BlbikgcmV0dXJuOwogICAgICAgIHRoaXMuaXNEaWFsb2dPcGVuID0gdHJ1ZTsKICAgICAgICBpZih0aGlzLmluaXRpYWxWaWV3ID09PSAnZGF5Jyl7CiAgICAgICAgICAgIHRoaXMuaXNEYXlWaWV3ID0gdHJ1ZTsKICAgICAgICAgICAgdGhpcy5pc01vbnRoVmlldyA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLmlzWWVhclZpZXcgPSBmYWxzZTsKICAgICAgICB9IGVsc2UgaWYodGhpcy5pbml0aWFsVmlldyA9PT0gJ21vbnRoJykgewogICAgICAgICAgICB0aGlzLmlzRGF5VmlldyA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLmlzTW9udGhWaWV3ID0gdHJ1ZTsKICAgICAgICAgICAgdGhpcy5pc1llYXJWaWV3ID0gZmFsc2U7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5pc0RheVZpZXcgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy5pc01vbnRoVmlldyA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLmlzWWVhclZpZXcgPSB0cnVlOwogICAgICAgIH0KICAgICAgICB0aGlzLiRlbWl0KCdvcGVuZWQnLCB0aGlzLnZhbHVlKTsKICAgIH0sCiAgICBjbG9zZURpYWxvZygpewogICAgICAgIGlmKCF0aGlzLmlubGluZU1vZGUpewogICAgICAgICAgICB0aGlzLmlzRGlhbG9nT3BlbiA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLmlzRGF5VmlldyA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLmlzTW9udGhWaWV3ID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMuaXNZZWFyVmlldyA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLiRlbWl0KCdjbG9zZWQnLCB0aGlzLnZhbHVlKTsKICAgICAgICB9CiAgICB9LAogICAgaXNEYXRlSW5SYW5nZShkYXkpewogICAgICAgIGlmKCF0aGlzLmF2YWlsYWJsZURhdGVzKSByZXR1cm4gdHJ1ZTsKICAgICAgICBsZXQgY2RhdGUgPSB0aGlzLmRpc3BsYXlpbmdZZWFyICogMTAwMDAgKwogICAgICAgICAgICAgICAgKHRoaXMuZGlzcGxheWluZ01vbnRoTnVtICsgMSkgKiAxMDAgKwogICAgICAgICAgICAgICAgZGF5OwoKICAgICAgICBsZXQgc2RhdGUgPSB0aGlzLnN0YXJ0QXZhaWxhYmxlRGF0ZVYueWVhciAqIDEwMDAwICsKICAgICAgICAgICAgICAgICh0aGlzLnN0YXJ0QXZhaWxhYmxlRGF0ZVYubW9udGgpICogMTAwICsKICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRBdmFpbGFibGVEYXRlVi5kYXk7CgogICAgICAgIGxldCBlZGF0ZSA9IHRoaXMuZW5kQXZhaWxhYmxlRGF0ZVYueWVhciAqIDEwMDAwICsKICAgICAgICAgICAgICAgICh0aGlzLmVuZEF2YWlsYWJsZURhdGVWLm1vbnRoICkgKiAxMDAgKwogICAgICAgICAgICAgICAgdGhpcy5lbmRBdmFpbGFibGVEYXRlVi5kYXk7CiAgICAgICByZXR1cm4gKGNkYXRlIC0gc2RhdGUgPj0gMCkgJiYgKGNkYXRlIC0gZWRhdGUgPD0gMCk7CiAgICB9LAogICAgaXNUb0RheUluUmFuZ2UoKXsKICAgICAgICBpZighdGhpcy5hdmFpbGFibGVEYXRlcykgcmV0dXJuIHRydWU7CiAgICAgICAgbGV0IHRvZGF5ID0gbmV3IERhdGUoKTsKICAgICAgICBsZXQgZ3RvZGF5ID0gdGhpcy5ncmVnb3JpYW5fdG9famFsYWxpKHRvZGF5LmdldEZ1bGxZZWFyKCksIHRvZGF5LmdldE1vbnRoKCkgKyAxLCB0b2RheS5nZXREYXRlKCkpOwogICAgICAgIGxldCBjZGF0ZSA9IGd0b2RheVswXSAqIDEwMDAwICsgKGd0b2RheVsxXSkgKiAxMDAgKyBndG9kYXlbMl07CgogICAgICAgIGxldCBzZGF0ZSA9IHRoaXMuc3RhcnRBdmFpbGFibGVEYXRlVi55ZWFyICogMTAwMDAgKwogICAgICAgICAgICAgICAgKHRoaXMuc3RhcnRBdmFpbGFibGVEYXRlVi5tb250aCkgKiAxMDAgKwogICAgICAgICAgICAgICAgdGhpcy5zdGFydEF2YWlsYWJsZURhdGVWLmRheTsKCiAgICAgICAgbGV0IGVkYXRlID0gdGhpcy5lbmRBdmFpbGFibGVEYXRlVi55ZWFyICogMTAwMDAgKwogICAgICAgICAgICAgICAgKHRoaXMuZW5kQXZhaWxhYmxlRGF0ZVYubW9udGggKSAqIDEwMCArCiAgICAgICAgICAgICAgICB0aGlzLmVuZEF2YWlsYWJsZURhdGVWLmRheTsKICAgICAgIHJldHVybiAoY2RhdGUgLSBzZGF0ZSA+PSAwKSAmJiAoY2RhdGUgLSBlZGF0ZSA8PSAwKTsKICAgIH0sCiAgICBpbnB1dENoZWNrKHZhbHVlKXsKICAgICAgICBpZih2YWx1ZSAhPT0gJycpewogICAgICAgICAgICBsZXQgZWxzID0gdmFsdWUuc3BsaXQoIi8iKTsKICAgICAgICAgICAgaWYoZWxzLmxlbmd0aCA9PT0gMyl7CiAgICAgICAgICAgICAgICBsZXQgeWVhciA9IHBhcnNlSW50KHRoaXMuY29udmVydERpZ2l0c1BURShlbHNbMF0pKTsKICAgICAgICAgICAgICAgIGxldCBtb250aCA9IHBhcnNlSW50KHRoaXMuY29udmVydERpZ2l0c1BURShlbHNbMV0pKTsKICAgICAgICAgICAgICAgIGxldCBkYXkgPSBwYXJzZUludCh0aGlzLmNvbnZlcnREaWdpdHNQVEUoZWxzWzJdKSk7CiAgICAgICAgICAgICAgICBpZihpc05hTihtb250aCkpewogICAgICAgICAgICAgICAgICAgIG1vbnRoID0gdGhpcy5tb250aE5hbWVzLmluZGV4T2YoZWxzWzFdKSArIDE7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZighaXNOYU4oeWVhcikgJiYgIWlzTmFOKGRheSkgJiYgbW9udGggIT09IC0xKXsKICAgICAgICAgICAgICAgICAgICBpZihtb250aCA8IDEgfHwgbW9udGggPiAxMikgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgICAgIGlmKG1vbnRoIDw9IDYgJiYgKGRheSA8IDEgfHwgZGF5ID4gMzEpKSByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgaWYobW9udGggPiA2ICYmIChkYXkgPCAxIHx8IGRheSA+IDMwKSkgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgICAgIGlmKHllYXIgPCAxMzAwKSB5ZWFyICs9IDEzMDA7CiAgICAgICAgICAgICAgICAgICAgaWYoeWVhciA8IHRoaXMuY01pbmltdW1ZZWFyIHx8IHllYXIgPiB0aGlzLmNNYXhpbXVtWWVhcikgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0sCiAgICBpbnB1dENoYW5nZWQodmFsdWUpewogICAgICAgIGlmKHRoaXMuaW5wdXRDaGVjayh2YWx1ZSkpIHsKICAgICAgICAgICAgbGV0IGVscyA9IHZhbHVlLnNwbGl0KCIvIik7CiAgICAgICAgICAgIGxldCB5ZWFyID0gcGFyc2VJbnQodGhpcy5jb252ZXJ0RGlnaXRzUFRFKGVsc1swXSkpOwogICAgICAgICAgICBsZXQgbW9udGggPSBwYXJzZUludCh0aGlzLmNvbnZlcnREaWdpdHNQVEUoZWxzWzFdKSk7CiAgICAgICAgICAgIGxldCBkYXkgPSBwYXJzZUludCh0aGlzLmNvbnZlcnREaWdpdHNQVEUoZWxzWzJdKSk7CiAgICAgICAgICAgIGlmKGlzTmFOKG1vbnRoKSl7CiAgICAgICAgICAgICAgICBtb250aCA9IHRoaXMubW9udGhOYW1lcy5pbmRleE9mKGVsc1sxXSkgKyAxOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuZ29Ub01vbnRoKHllYXIsIG1vbnRoIC0gMSwgZGF5KTsKICAgICAgICAgICAgLy8gdGhpcy51cGRhdGVJbnB1dCgpOwogICAgICAgICAgICAvLyB0aGlzLmRheUNsaWNrZWQoZGF5KTsKICAgICAgICB9CiAgICB9LAogICAgaWZEYXlCb3hJc0Nob3NlbkRheShkYXkpewogICAgICAgIHJldHVybiB0aGlzLmNob3NlblllYXIgPT09IHRoaXMuZGlzcGxheWluZ1llYXIgJiYKICAgICAgICAgICAgICAgIHRoaXMuY2hvc2VuTW9udGggPT09ICh0aGlzLmRpc3BsYXlpbmdNb250aE51bSArIDEpICYmCiAgICAgICAgICAgICAgICB0aGlzLmNob3NlbkRheSA9PT0gZGF5OwogICAgfSwKICAgIGlmTW9udGhCb3hDaG9zZW5Nb250aChtb250aCl7CiAgICAgICAgcmV0dXJuIHRoaXMuY2hvc2VuWWVhciA9PT0gdGhpcy5kaXNwbGF5aW5nWWVhciAmJgogICAgICAgICAgICAgICAgdGhpcy5jaG9zZW5Nb250aCA9PT0gbW9udGggKyAxOwogICAgfSwKICAgIGlmWWVhckJveENob3NlblllYXIoeWVhcil7CiAgICAgICAgcmV0dXJuIHRoaXMuY2hvc2VuWWVhciA9PT0geWVhcjsKICAgIH0sCiAgICBnb1RvVG9kYXkoKXsKICAgICAgICBsZXQgdG9kYXkgPSBuZXcgRGF0ZSgpOwogICAgICAgIHRoaXMuZ3RvZGF5ID0gdGhpcy5ncmVnb3JpYW5fdG9famFsYWxpKHRvZGF5LmdldEZ1bGxZZWFyKCksIHRvZGF5LmdldE1vbnRoKCkgKyAxLCB0b2RheS5nZXREYXRlKCkpOwogICAgICAgIHRoaXMuY2hvc2VuRGF5ID0gdGhpcy5ndG9kYXlbMl07CiAgICAgICAgdGhpcy5jaG9zZW5Nb250aCA9IHRoaXMuZ3RvZGF5WzFdOwogICAgICAgIHRoaXMuY2hvc2VuWWVhciA9IHRoaXMuZ3RvZGF5WzBdOwogICAgICAgIAogICAgICAgIHRoaXMuZ29Ub01vbnRoKHRoaXMuY2hvc2VuWWVhciwgdGhpcy5jaG9zZW5Nb250aCAtIDEsIHRoaXMuY2hvc2VuRGF5KTsKICAgIH0sCiAgICBnb1RvTW9udGgoeWVhciwgbW9udGgsIGRheSl7CiAgICAgICAgdmFyIGdmaXJzdE9mTW9udGggPSB0aGlzLmphbGFsaV90b19ncmVnb3JpYW4oeWVhciwgbW9udGggKyAxLCAxKTsKCiAgICAgICAgdmFyIGZpcnN0T2ZNb250aCA9IG5ldyBEYXRlKGdmaXJzdE9mTW9udGhbMF0sIGdmaXJzdE9mTW9udGhbMV0gLSAxLCBnZmlyc3RPZk1vbnRoWzJdICsgMSk7CiAgICAgICAgdGhpcy5maXJzdERheU9mTW9udGggPSAoZmlyc3RPZk1vbnRoLmdldERheSgpKSAlNyA7CiAgICAgICAgdGhpcy5kYXlzSW5Nb250aCA9IHRoaXMuZ2F0RGF5c0luTW9udGgobW9udGgpOwogICAgICAgIHRoaXMuZGlzcGxheWluZ01vbnRoTnVtID0gbW9udGg7CgogICAgICAgIGxldCB5ZWFyY2ggPSB0aGlzLmRpc3BsYXlpbmdZZWFyICE9PSB5ZWFyOwogICAgICAgIGxldCBtb250aGNoID0gdGhpcy5kaXNwbGF5aW5nTW9udGggIT09IHRoaXMubW9udGhOYW1lc1ttb250aF07CgogICAgICAgIHRoaXMuZGlzcGxheWluZ1llYXIgPSB5ZWFyOwogICAgICAgIHRoaXMuZGlzcGxheWluZ01vbnRoID0gdGhpcy5tb250aE5hbWVzW21vbnRoXTsKCiAgICAgICAgaWYobW9udGhjaCkKICAgICAgICAgICAgdGhpcy4kZW1pdCgnbW9udGhDaGFuZ2VkJywgdGhpcy52YWx1ZSk7CiAgICAgICAgaWYoeWVhcmNoKQogICAgICAgICAgICB0aGlzLiRlbWl0KCd5ZWFyQ2hhbmdlZCcsIHRoaXMudmFsdWUpOwogICAgfSwKICAgIGdhdERheXNJbk1vbnRoKG1vbnRoTnVtYmVyKXsKICAgICAgICBpZihtb250aE51bWJlciA9PSAxMSl7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmlzTGVhcFllYXIodGhpcy5kaXNwbGF5aW5nWWVhcikgPyAzMCA6IDI5OwogICAgICAgIH0KICAgICAgICByZXR1cm4gbW9udGhOdW1iZXIgPD0gNSA/IDMxIDogMzA7CiAgICB9LAogICAgaXNMZWFwWWVhcih5ZWFyKXsKICAgICAgICBsZXQgcm0gPSB5ZWFyICUgMzM7CiAgICAgICAgaWYoeWVhciA8PSAxMzQyKQogICAgICAgICAgICByZXR1cm4gcm0gPT0gMSB8fCBybSA9PSA1IHx8IHJtID09IDkgfHwgcm0gPT0gMTMgfHwgcm0gPT0gMTcgfHwgcm0gPT0gMjEgfHwgcm0gPT0gMjYgfHwgcm0gPT0gMzA7CiAgICAgICAgcmV0dXJuIHJtID09IDEgfHwgcm0gPT0gNSB8fCBybSA9PSA5IHx8IHJtID09IDEzIHx8IHJtID09IDE3IHx8IHJtID09IDIyIHx8IHJtID09IDI2IHx8IHJtID09IDMwOwogICAgfSwKICAgIHByZU1vbnRoQ2xpY2tlZCgpewogICAgICAgIGxldCBuZXdNb250aCA9IHRoaXMuZGlzcGxheWluZ01vbnRoTnVtIC0gMTsKICAgICAgICBsZXQgbmV3WWVhciA9IHRoaXMuZGlzcGxheWluZ1llYXI7CiAgICAgICAgaWYobmV3TW9udGggPCAwKXsKICAgICAgICAgICAgaWYobmV3WWVhciAtIDEgPj0gdGhpcy5jTWluaW11bVllYXIpIHsKICAgICAgICAgICAgICAgIG5ld01vbnRoID0gMTE7CiAgICAgICAgICAgICAgICBuZXdZZWFyLS07CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBuZXdNb250aCA9IDA7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgdGhpcy5nb1RvTW9udGgobmV3WWVhciwgbmV3TW9udGgsIDEpOwogICAgfSwKICAgIG5leHRNb250aENsaWNrZWQoKXsKICAgICAgICBsZXQgbmV3TW9udGggPSB0aGlzLmRpc3BsYXlpbmdNb250aE51bSArIDE7CiAgICAgICAgbGV0IG5ld1llYXIgPSB0aGlzLmRpc3BsYXlpbmdZZWFyOwogICAgICAgIGlmKG5ld01vbnRoID4gMTEpewogICAgICAgICAgICBpZihuZXdZZWFyICsgMSA8PSB0aGlzLmNNYXhpbXVtWWVhcikgewogICAgICAgICAgICAgICAgbmV3TW9udGggPSAwOwogICAgICAgICAgICAgICAgbmV3WWVhcisrOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbmV3TW9udGggPSAxMTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICB0aGlzLmdvVG9Nb250aChuZXdZZWFyLCBuZXdNb250aCwgMSk7CiAgICB9LAogICAgZGF5Q2xpY2tlZChkYXkpewogICAgICAgIGlmKCF0aGlzLmlzRGlhbG9nT3BlbiB8fAogICAgICAgICAgICAodGhpcy5hdmFpbGFibGVEYXRlcyAmJiAhdGhpcy5pc0RhdGVJblJhbmdlKGRheSkpKXsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICB0aGlzLmNob3NlbkRheSA9IGRheTsKICAgICAgICB0aGlzLmNob3Nlbk1vbnRoID0gdGhpcy5kaXNwbGF5aW5nTW9udGhOdW0gKyAxOwogICAgICAgIHRoaXMuY2hvc2VuWWVhciA9IHRoaXMuZGlzcGxheWluZ1llYXI7CiAgICAgICAgdGhpcy51cGRhdGVJbnB1dCgpOwogICAgICAgIHRoaXMuY2xvc2VEaWFsb2coKTsKICAgIH0sCiAgICBtb250aENsaWNrZWQobW9udGgpewogICAgICAgIHRoaXMuZGlzcGxheWluZ01vbnRoTnVtID0gbW9udGg7CiAgICAgICAgdGhpcy5pc01vbnRoVmlldyA9IGZhbHNlOwogICAgICAgIHRoaXMuaXNZZWFyVmlldyA9IGZhbHNlOwogICAgICAgIHRoaXMuaXNEYXlWaWV3ID0gdHJ1ZTsKICAgICAgICB0aGlzLmdvVG9Nb250aCh0aGlzLmRpc3BsYXlpbmdZZWFyLCB0aGlzLmRpc3BsYXlpbmdNb250aE51bSwgMSk7CiAgICB9LAogICAgeWVhckNsaWNrZWQoeWVhcil7CiAgICAgICAgdGhpcy5kaXNwbGF5aW5nWWVhciA9IHllYXI7CiAgICAgICAgdGhpcy5pc01vbnRoVmlldyA9IHRydWU7CiAgICAgICAgdGhpcy5pc1llYXJWaWV3ID0gZmFsc2U7CiAgICAgICAgdGhpcy5pc0RheVZpZXcgPSBmYWxzZTsKICAgICAgICB0aGlzLmdvVG9Nb250aFNlbGVjdCgpOwogICAgfSwKICAgIGdvVG9ZZWFyU2VsZWN0KGV2ZW50KXsKICAgICAgICB0aGlzLmlzTW9udGhWaWV3ID0gZmFsc2U7CiAgICAgICAgdGhpcy5pc0RheVZpZXcgPSBmYWxzZTsKICAgICAgICB0aGlzLmlzWWVhclZpZXcgPSB0cnVlOwogICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgbGV0IHRhcmdldCA9IHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoJyN5ZWFyLScgKyB0aGlzLmRpc3BsYXlpbmdZZWFyKTsKICAgICAgICAgICAgdGFyZ2V0LnBhcmVudE5vZGUuc2Nyb2xsVG9wID0gdGFyZ2V0Lm9mZnNldFRvcCAtIHRhcmdldC5wYXJlbnROb2RlLm9mZnNldFRvcDsKICAgICAgICB9KTsKICAgIH0sCiAgICB1cGRhdGVJbnB1dCgpewogICAgICAgIGxldCBzdHIgPSB0aGlzLnRvRm9ybWF0RGF0ZSh0aGlzLmNob3NlblllYXIsIHRoaXMuY2hvc2VuTW9udGgsIHRoaXMuY2hvc2VuRGF5KTsKICAgICAgICBpZih0aGlzLnBlcnNpYW5EaWdpdHMpCiAgICAgICAgICAgIHRoaXMuZm9ybWF0ZWRDaG9zZW5EYXRlID0gdGhpcy5jb252ZXJ0RGlnaXRzRVRQKHN0cik7CiAgICAgICAgZWxzZQogICAgICAgICAgICB0aGlzLmZvcm1hdGVkQ2hvc2VuRGF0ZSA9IHRoaXMuY29udmVydERpZ2l0c1BURShzdHIpOwogICAgICAgIHRoaXMuJGVtaXQoJ3NlbGVjdGVkJywgeyB5ZWFyOiB0aGlzLmNob3NlblllYXIsIG1vbnRoOiB0aGlzLmNob3Nlbk1vbnRoLCBkYXk6IHRoaXMuY2hvc2VuRGF5fSk7CiAgICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCBzdHIpOwogICAgfSwKICAgIG51bVRvU3RyKG51bSl7CiAgICAgICAgaWYodGhpcy5wZXJzaWFuRGlnaXRzKXsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29udmVydERpZ2l0c0VUUCgnJyArIG51bSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiAnJyArIG51bTsKICAgIH0sCiAgICBuZXh0WWVhckNsaWNrZWQoKXsKICAgICAgICBpZih0aGlzLmRpc3BsYXlpbmdZZWFyICsgMSA8PSB0aGlzLmNNYXhpbXVtWWVhcikgewogICAgICAgICAgICB0aGlzLmRpc3BsYXlpbmdZZWFyKys7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3llYXJDaGFuZ2VkJywgdGhpcy52YWx1ZSk7CiAgICAgICAgfQogICAgfSwKICAgIHByZVllYXJDbGlja2VkKCl7CiAgICAgICAgaWYodGhpcy5kaXNwbGF5aW5nWWVhciAtIDEgPj0gdGhpcy5jTWluaW11bVllYXIpIHsKICAgICAgICAgICAgdGhpcy5kaXNwbGF5aW5nWWVhci0tOwogICAgICAgICAgICB0aGlzLiRlbWl0KCd5ZWFyQ2hhbmdlZCcsIHRoaXMudmFsdWUpOwogICAgICAgIH0KICAgIH0sCiAgICBnb1RvTW9udGhTZWxlY3QoKXsKICAgICAgICB0aGlzLmlzRGF5VmlldyA9IGZhbHNlOwogICAgICAgIHRoaXMuaXNNb250aFZpZXcgPSB0cnVlOwogICAgICAgIHRoaXMuY2hvc2VuTW9udGggPSB0aGlzLmRpc3BsYXlpbmdNb250aE51bSArIDE7CiAgICAgICAgdGhpcy4kZW1pdCgnbW9udGhDaGFuZ2VkJywgdGhpcy52YWx1ZSk7CiAgICB9LAogICAgdG9Gb3JtYXREYXRlKHllYXIsIG1vbnRoLCBkYXkpewogICAgICAgIGxldCBlbGVtZW50cyA9IHRoaXMuZm9ybWF0RGF0ZS5zcGxpdCgiLyIpOwogICAgICAgIGxldCBvdXRZZWFyID0gJycgKyBlbGVtZW50c1swXSA9PT0gInl5eXkiID8geWVhciA6IHllYXIgLSAxMzAwOwogICAgICAgIGxldCBvdXRNb250aCA9ICcnOwogICAgICAgIGlmKGVsZW1lbnRzWzFdID09PSAnTScpIG91dE1vbnRoID0gbW9udGg7CiAgICAgICAgZWxzZSBpZihlbGVtZW50c1sxXSA9PT0gJ01NJyl7CiAgICAgICAgICAgIGlmKG1vbnRoIDwgMTApIG91dE1vbnRoID0gJzAnICsgbW9udGg7CiAgICAgICAgICAgIGVsc2Ugb3V0TW9udGggPSAgbW9udGg7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYoZWxlbWVudHNbMV0gPT09ICdNTU0nKSBvdXRNb250aCA9IHRoaXMubW9udGhOYW1lc1ttb250aCAtIDFdOwogICAgICAgIGxldCBvdXREYXkgPSBlbGVtZW50c1syXSA9PT0gJ2RkJyAmJiBkYXkgPCAxMCA/ICcwJyArIGRheSA6IGRheTsKICAgICAgICByZXR1cm4gb3V0WWVhciArICIvIiArIG91dE1vbnRoICsgIi8iICsgb3V0RGF5OwogICAgfSwKICAgIG9uRXhpdChldikgewogICAgICAgIGlmICghdGhpcy4kZWwuY29udGFpbnMoZXYudGFyZ2V0KSkKICAgICAgICAgICAgdGhpcy5jbG9zZURpYWxvZygpOwogICAgfSwgICAgCiAgICAvKioKICAgICAqIFRoaXMgZnVuY3Rpb24gY29udmVydCBlbmdsaXNoIGRpZ2l0cyB0byBwZXJzaWFuIG9uZXMuCiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdW5jb252ZXJ0ZWQgc3RyaW5nCiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBjb252ZXJ0ZWQgc3RyaW5nCiAgICAgKi8KICAgIGNvbnZlcnREaWdpdHNQVEUoc3RyKXsKICAgICAgcmV0dXJuIHRoaXMucmVwbGFjZUFsbEFycmF5KHN0ciwKICAgICAgICBbJ9uwJywgJ9uxJywgJ9uyJywgJ9uzJywgJ9u0JywgJ9u1JywgJ9u2JywgJ9u3JywgJ9u4JywgJ9u5J10sCiAgICAgICAgWycwJywgJzEnLCAnMicsICczJywgJzQnLCAnNScsICc2JywgJzcnLCAnOCcsICc5J10pOwogICAgfSwKICAgIC8qKgogICAgICogVGhpcyBmdW5jdGlvbiBjb252ZXJ0IHBlcnNpYW4gZGlnaXRzIHRvIGVuZ2xpc2ggb25lcy4KICAgICAqIEBwYXJhbSB7U3RyaW5nfSB1bmNvbnZlcnRlZCBzdHJpbmcKICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IGNvbnZlcnRlZCBzdHJpbmcKICAgICAqLwogICAgY29udmVydERpZ2l0c0VUUChzdHIpewogICAgICByZXR1cm4gdGhpcy5yZXBsYWNlQWxsQXJyYXkoc3RyLAogICAgICAgIFsnMCcsICcxJywgJzInLCAnMycsICc0JywgJzUnLCAnNicsICc3JywgJzgnLCAnOSddLAogICAgICAgIFsn27AnLCAn27EnLCAn27InLCAn27MnLCAn27QnLCAn27UnLCAn27YnLCAn27cnLCAn27gnLCAn27knXSk7CiAgICB9LAogICAgcmVwbGFjZUFsbEFycmF5KHN0ciwgZmluZCwgcmVwbGFjZSl7CiAgICAgICAgbGV0IHJlcGxhY2VkU3RyID0gc3RyOwogICAgICAgIGZvcihsZXQgaT0wOyBpPGZpbmQubGVuZ3RoOyBpKyspewogICAgICAgICAgICByZXBsYWNlZFN0ciA9IHJlcGxhY2VkU3RyLnNwbGl0KGZpbmRbaV0pLmpvaW4ocmVwbGFjZVtpXSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiByZXBsYWNlZFN0cjsKICAgIH0sCiAgICBncmVnb3JpYW5fdG9famFsYWxpKCBneSwgZ20sIGdkKSB7CiAgICAgICAgdmFyIGdfZF9tPVswLDMxLDU5LDkwLDEyMCwxNTEsMTgxLDIxMiwyNDMsMjczLDMwNCwzMzRdOwogICAgICAgIHZhciBqeSwgam0sIGpkLCBneTIsIGRheXM7CiAgICAgICAgaWYoZ3kgPiAxNjAwKSB7CiAgICAgICAgICAgIGp5PTk3OTsKICAgICAgICAgICAgZ3ktPTE2MDA7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgank9MDsKICAgICAgICAgICAgZ3ktPTYyMTsKICAgICAgICB9CiAgICAgICAgZ3kyPShnbSA+IDIpPyhneSsxKTpneTsKICAgICAgICBkYXlzPSgzNjUqZ3kpICsocGFyc2VJbnQoKCBneTIgKyAzICkgLyA0KSkgLShwYXJzZUludCgoZ3kyKzk5KS8xMDApKSArKHBhcnNlSW50KChneTIrMzk5KS80MDApKSAtODAgK2dkICtnX2RfbVtnbS0xXTsKICAgICAgICBqeSArPSAzMyAqIChwYXJzZUludCggZGF5cyAvIDEyMDUzKSk7CiAgICAgICAgZGF5cyU9MTIwNTM7CiAgICAgICAgankgKz0gNCoocGFyc2VJbnQoZGF5cy8xNDYxKSk7CiAgICAgICAgZGF5cyU9MTQ2MTsKICAgICAgICBpZihkYXlzID4gMzY1KXsKICAgICAgICAgICAgankrPXBhcnNlSW50KChkYXlzLTEpLzM2NSk7CiAgICAgICAgICAgIGRheXM9KGRheXMtMSklMzY1OwogICAgICAgIH0KICAgICAgICBqbT0oZGF5cyA8IDE4Nik/MStwYXJzZUludChkYXlzLzMxKTo3K3BhcnNlSW50KChkYXlzLTE4NikvMzApOwogICAgICAgIGpkPTErKChkYXlzIDwgMTg2KT8oZGF5cyUzMSk6KChkYXlzLTE4NiklMzApKTsKICAgICAgICByZXR1cm4gW2p5LGptLGpkXTsKICAgIH0sCiAgICBqYWxhbGlfdG9fZ3JlZ29yaWFuKCBqeSwgam0sIGpkKSB7CiAgICAgICAgdmFyIGd5LCBnbSwgZ2QsIGRheXMsIHNhbF9hLCB2OwogICAgICAgIGlmKGp5ID4gOTc5KXsKICAgICAgICAgICAgZ3k9MTYwMDsKICAgICAgICAgICAganktPTk3OTsKICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgZ3k9NjIxOwogICAgICAgIH0KICAgICAgICBkYXlzPSgzNjUqankpICsoKHBhcnNlSW50KGp5LzMzKSkqOCkgKyhwYXJzZUludCgoKGp5JTMzKSszKS80KSkgKzc4ICtqZCArKChqbTw3KT8oam0tMSkqMzE6KChqbS03KSozMCkrMTg2KTsKICAgICAgICBneSs9NDAwKihwYXJzZUludChkYXlzLzE0NjA5NykpOwogICAgICAgIGRheXMlPTE0NjA5NzsKICAgICAgICBpZihkYXlzID4gMzY1MjQpIHsKICAgICAgICAgICAgZ3krPTEwMCoocGFyc2VJbnQoLS1kYXlzLzM2NTI0KSk7CiAgICAgICAgICAgIGRheXMlPTM2NTI0OwogICAgICAgICAgICBpZihkYXlzID49IDM2NSlkYXlzKys7CiAgICAgICAgfQogICAgICAgIGd5Kz00KihwYXJzZUludChkYXlzLzE0NjEpKTsKICAgICAgICBkYXlzJT0xNDYxOwogICAgICAgIGlmKGRheXMgPiAzNjUpewogICAgICAgICAgICBneSs9cGFyc2VJbnQoKGRheXMtMSkvMzY1KTsKICAgICAgICAgICAgZGF5cz0oZGF5cy0xKSUzNjU7CiAgICAgICAgfQogICAgICAgIGdkPWRheXMrMTsKICAgICAgICBzYWxfYT1bMCwzMSwoKGd5JTQ9PTAgJiYgZ3klMTAwIT0wKSB8fCAoZ3klNDAwPT0wKSk/Mjk6MjgsMzEsMzAsMzEsMzAsMzEsMzEsMzAsMzEsMzAsMzFdOwogICAgICAgIGZvcihnbT0wOyBnbSA8IDEzOyBnbSsrKSB7CiAgICAgICAgICAgIHY9c2FsX2FbZ21dOwogICAgICAgICAgICBpZihnZCA8PSB2KWJyZWFrOwogICAgICAgICAgICBnZC09djsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIFtneSxnbSxnZF07CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["PDatePicker.vue"],"names":[],"mappings":";AAqGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PDatePicker.vue","sourceRoot":"node_modules/vue2-persian-datepicker/src/components","sourcesContent":["<template>\n    <div class=\"pdatepicker\" v-bind:class=\"[ {'inline' : inlineMode}, wrapperClass ]\">\n        <input :id=\"id\"\n            type=\"text\"\n               @click=\"inputClicked\"\n               :value=\"formatedChosenDate\"\n               @change=\"inputChanged($event.target.value)\"\n               :class=\"inputClass\"\n               :name=\"name\"\n               :placeholder=\"placeholder\"\n               :readonly=\"inputDisabled\">\n        <transition name='fade' v-if='modalMode && isDialogOpen'>\n            <div class=\"modal-overlay\"\n                v-if='isDialogOpen'\n                @click='isDialogOpen = false'>\n            </div>\n        </transition>\n        <transition :name=\"modalMode ? modalOpenTransitionAnimation : openTransitionAnimation\">\n            <div\n                v-if=\"isDialogOpen\"\n                v-on:click.stop\n                v-bind:class=\"[{ 'modal-dialog' : modalMode }, dialogClass , 'pdatepicker-dialog']\"\n                v-bind:style=\"{ dialogDynamicStyle }\">\n                <transition name=\"fade\">\n                    <div class='day-view' v-if='isDayView'>\n                        <div class=\"pdatepicker-dialog-header\" v-bind:style='{background : headerBackgroundColor, color: headerColor}'>\n                            <div class='pdatepicker-dialog-month'>\n                                <div class=\"preMonth\" @click='preMonthClicked'>&lt;</div>\n                                <div class=\"monthName\"@click='goToMonthSelect'>{{ displayingMonth }} {{ numToStr(displayingYear) }}</div>\n                                <div class=\"nextMonth\" @click='nextMonthClicked'>&gt;</div>\n                            </div>\n                        </div>\n                        <div class='pdatepicker-dialog-days'>\n                            <div class='day-box day-name' v-for='dayName in dayNames'>\n                                <span>\n                                {{ dayName }}\n                                </span>\n                            </div>\n                            <div class='day-box empty-box' v-for='n in firstDayOfMonth'></div>\n                            <template v-for='n in daysInMonth'>\n                                <div class='day-box'\n                                    v-bind:class=\"{'disabled-day' : !isDateInRange(n) , 'chosen-day' :  ifDayBoxIsChosenDay(n) }\"\n                                    @click='dayClicked(n)'>\n                                    <span class=\"hover-effect\"\n                                    v-bind:style=\"{ 'background-color': !ifDayBoxIsChosenDay(n) ? hoverDayBackColor : chosenDayBackColor  }\"></span>\n                                    <span class='num'>\n                                        {{ numToStr(n) }}\n                                    </span>\n                                </div>\n                            </template>\n                        </div>\n                    </div>\n                </transition>\n                <transition name=\"fade\">\n                    <div class='month-view' v-if='isMonthView'>\n                        <div class=\"pdatepicker-dialog-header\" v-bind:style='{background : headerBackgroundColor, color: headerColor}'>\n                            <div class='pdatepicker-dialog-year'>\n                                <div class=\"preYear\" @click='preYearClicked'>&lt;</div>\n                                <div class=\"cyear\" @click=\"goToYearSelect\">{{ numToStr(displayingYear) }}</div>\n                                <div class=\"nextYear\" @click='nextYearClicked'>&gt;</div>\n                            </div>\n                        </div>\n                        <div class='pdatepicker-dialog-months'>\n                            <template v-for='(n, i) in monthNames'>\n                                <div class='month-box'\n                                    v-bind:class=\"{ 'chosen-month' : ifMonthBoxChosenMonth(i) }\"\n                                    @click='monthClicked(i)'>\n                                    <span class=\"hover-effect\"\n                                    v-bind:style=\"{ 'background-color': !ifMonthBoxChosenMonth(n) ? hoverDayBackColor : chosenDayBackColor  }\"></span>\n                                    <span class=\"num\">\n                                    {{ n }}\n                                    </span>\n                                </div>\n                            </template>\n                        </div>\n                    </div>\n                </transition>\n                <transition name=\"fade\">\n                    <div class='year-view'\n                        v-if='isYearView'>\n                        <template v-for='n in (cMaximumYear - cMinimumYear + 1)'>\n                            <div class='year-box'\n                                :id=\"'year-' + (n + cMinimumYear - 1)\"\n                                v-bind:class=\"{ 'chosen-year' : ifYearBoxChosenYear(n + cMinimumYear - 1) }\"\n                                @click=\"yearClicked(n + cMinimumYear - 1)\">\n                                <span class=\"hover-effect\"\n                                    v-bind:style=\"{ 'background-color': !ifYearBoxChosenYear(n + cMinimumYear - 1) ? hoverDayBackColor : chosenDayBackColor  }\">\n                                </span>\n                                <span class=\"num\">\n                                {{ numToStr(n + cMinimumYear - 1) }}\n                                </span>\n                            </div>\n                        </template>\n                    </div>\n                </transition>\n            </div>\n        </transition>\n    </div>\n</template>\n\n<script>\nexport default {\n  name : 'PDatePicker',\n  props : {\n      'placeholder' : { default : 'یک تاریخ را انتخاب کنید', type: String},\n      'headerBackgroundColor' :{ default : '#137e95' , type: String },\n      'headerColor' : { default : 'white', type: String},\n      'dialogColor' : { default : 'black', type: String},\n      'dialogBackgroundColor' : { default : '#fafafa', type: String},\n      'hoverDayBackColor' : { default : '#1af7ff', type: String },\n      'chosenDayBackColor' : { default : '#1ad7ff', type: String },\n      'minimumYear' : { default : 1300, type: Number},\n      'maximumYear' : { default : 1450, type: Number },\n      'disableDatesBeforeToday' : { default : false, type: Boolean },\n      'availableDates' : { default : false, type: Boolean },\n      'availableDateStart' : { default: '1300/01/01', type: String,\n          validator (value){\n              if(value === '') return true;\n              let elements = value.split('/');\n              if(elements.length !== 3) return false;\n              if(parseInt(elements[0]) < 1300) return false;\n              let month = parseInt(elements[1]);\n              if(month < 1 || month > 12) return false;\n              let day = parseInt(elements[2]);\n              if(day < 1 || day > 31) return false;\n              return true;\n          }\n      },\n      'availableDateEnd' : { default: '1450/12/29', type: String,\n          validator (value){\n              if(value === '') return true;\n              let elements = value.split('/');\n              if(elements.length !== 3) return false;\n              if(parseInt(elements[0]) < 1300) return false;\n              let month = parseInt(elements[1]);\n              if(month < 1 || month > 12) return false;\n              let day = parseInt(elements[2]);\n              if(day < 1 || day > 31) return false;\n              return true;\n          }\n      },\n      'value' : { default : '' },\n      'name' : { default : '', type : String },\n      'required' : { default : false,type : Boolean },\n      'id' : { default : '', type : String},\n      'inputClass': { default : '', type :String },\n      'dialogClass' :  {default : '',type : String },\n      'wrapperClass' :  {default : '',type : String },\n      'initialView' : { default: 'day',type : String,\n              validator (value){\n                  return value === 'day' || value === 'month'\n              }\n          },\n      'inlineMode' : { default : false, type :Boolean },\n      'inputDisabled' : { default : true, type :Boolean },\n      'formatDate' : { default: 'yyyy/MM/dd',type : String,\n              validator (value) {\n                  let elements = value.split(\"/\");\n                  if(elements.length !== 3) return false;\n                  if(elements[0] !== \"yyyy\" && elements[0] !== \"yy\") return false;\n                  if(elements[1] !== \"M\" && elements[1] !== \"MM\" && elements[1] !== \"MMM\") return false;\n                  if(elements[2] !== \"d\" && elements[2] !== \"dd\") return false;\n                  return true;\n              }\n          },\n      'openTransitionAnimation' : { default: 'slide-fade' ,type : String },\n      'persianDigits' : { default : true,type : Boolean },\n      'modalMode' : { default: false,type : Boolean },\n      'modalOpenTransitionAnimation' : { default: 'scale-fade', type : String }\n  },\n  data () {\n    return {\n        isDialogOpen : false,\n        isDayView : true,\n        isMonthView : false,\n        isYearView: false,\n        dayNames : ['ش', 'ی', 'د', 'س', 'چ', 'پ', 'ج'],\n        monthNames : ['فروردین', 'اردیبهشت', 'خرداد', 'تیر', 'مرداد', 'شهریور' ,'مهر' ,'آبان' ,'آذر', 'دی' ,'بهمن', 'اسفند'],\n        dayInThisMonth: 1,\n        firstDayOfMonth: 0,\n        daysInMonth: 30,\n        gtoday : [1380, 1, 1],\n        displayingMonthNum : 1,\n        displayingMonth : '',\n        displayingYear : 1300,\n        dayOfWeek: 0,\n        chosenDate : '',\n        formatedChosenDate : '',\n        chosenDay: 1,\n        chosenMonth : 1,\n        chosenYear : 1396,\n        startAvailableDateV : {\n            year : 1300,\n            month: 1,\n            day : 1\n        },\n        endAvailableDateV : {\n            year : 1450,\n            month: 12,\n            day : 29\n        }\n    }\n  },\n  computed:{\n        dialogDynamicStyle(){\n            return {\n                background: this.dialogBackgroundColor,\n                color: this.dialogColor\n            }\n        },\n        chosenDayDynamicStyle(){\n            return {\n                background: this.chosenDayColor\n            }\n        },\n        cMinimumYear(){\n            if(this.startAvailableDateV.year > this.minimumYear) {\n                return this.startAvailableDateV.year;\n            }\n            return this.minimumYear;\n        },\n        cMaximumYear(){\n            if(this.endAvailableDateV.year < this.maximumYear) {\n                return this.endAvailableDateV.year;\n            }\n            return this.maximumYear;\n        }\n  },\n  mounted(){\n    if(this.availableDates){\n\n        let elements = this.availableDateStart.split(\"/\");\n        this.startAvailableDateV.year = parseInt(elements[0]);\n        this.startAvailableDateV.month = parseInt(elements[1]);\n        this.startAvailableDateV.day = parseInt(elements[2]);\n\n        elements = this.availableDateEnd.split(\"/\");\n        this.endAvailableDateV.year = parseInt(elements[0]);\n        this.endAvailableDateV.month = parseInt(elements[1]);\n        this.endAvailableDateV.day = parseInt(elements[2]);\n\n    }\n\n    if(this.disableDatesBeforeToday){\n        this.availableDates = true;\n        let today = new Date();\n        let gToday = this.gregorian_to_jalali(today.getFullYear(), today.getMonth() + 1, today.getDate());\n        let gTodayNum = gToday[0] * 10000 +\n                gToday[1] * 100 +\n                gToday[2];\n\n        let sdate = this.startAvailableDateV.year * 10000 +\n                (this.startAvailableDateV.month) * 100 +\n                this.startAvailableDateV.day;\n\n        if(sdate - gTodayNum < 0){\n            this.startAvailableDateV.year = gToday[0];\n            this.startAvailableDateV.month = gToday[1];\n            this.startAvailableDateV.day = gToday[2];\n        }\n    }\n\n\n\n\n    if(this.inputCheck(this.value)){\n        this.inputChanged(this.value);\n    } else if(this.isToDayInRange()){\n        this.goToToday();\n    } else {\n        this.goToMonth(this.startAvailableDateV.year , this.startAvailableDateV.month - 1, this.startAvailableDateV.day);\n    }\n\n    if(this.inlineMode){\n        this.openDialog();\n    }\n\n    if (!this.inlineMode && !this.modalMode){\n        document.documentElement.addEventListener('click', this.onExit, false);\n    }\n  },\n  beforeDestroy: function () {\n    if (!this.inlineMode && !this.modalMode){\n        document.documentElement.removeEventListener('click', this.onExit, false);\n    }\n  },\n  watch:{\n      value : function(value){\n          this.inputChanged(value);\n      }\n  },\n  methods: {\n    inputClicked () {\n        if(!this.isDialogOpen)\n            this.openDialog();\n        else\n            this.closeDialog();\n    },\n    hasInputClass(){\n        return inputClass !== '';\n    },\n    openDialog(){\n        if(this.isDialogOpen) return;\n        this.isDialogOpen = true;\n        if(this.initialView === 'day'){\n            this.isDayView = true;\n            this.isMonthView = false;\n            this.isYearView = false;\n        } else if(this.initialView === 'month') {\n            this.isDayView = false;\n            this.isMonthView = true;\n            this.isYearView = false;\n        } else {\n            this.isDayView = false;\n            this.isMonthView = false;\n            this.isYearView = true;\n        }\n        this.$emit('opened', this.value);\n    },\n    closeDialog(){\n        if(!this.inlineMode){\n            this.isDialogOpen = false;\n            this.isDayView = false;\n            this.isMonthView = false;\n            this.isYearView = false;\n            this.$emit('closed', this.value);\n        }\n    },\n    isDateInRange(day){\n        if(!this.availableDates) return true;\n        let cdate = this.displayingYear * 10000 +\n                (this.displayingMonthNum + 1) * 100 +\n                day;\n\n        let sdate = this.startAvailableDateV.year * 10000 +\n                (this.startAvailableDateV.month) * 100 +\n                this.startAvailableDateV.day;\n\n        let edate = this.endAvailableDateV.year * 10000 +\n                (this.endAvailableDateV.month ) * 100 +\n                this.endAvailableDateV.day;\n       return (cdate - sdate >= 0) && (cdate - edate <= 0);\n    },\n    isToDayInRange(){\n        if(!this.availableDates) return true;\n        let today = new Date();\n        let gtoday = this.gregorian_to_jalali(today.getFullYear(), today.getMonth() + 1, today.getDate());\n        let cdate = gtoday[0] * 10000 + (gtoday[1]) * 100 + gtoday[2];\n\n        let sdate = this.startAvailableDateV.year * 10000 +\n                (this.startAvailableDateV.month) * 100 +\n                this.startAvailableDateV.day;\n\n        let edate = this.endAvailableDateV.year * 10000 +\n                (this.endAvailableDateV.month ) * 100 +\n                this.endAvailableDateV.day;\n       return (cdate - sdate >= 0) && (cdate - edate <= 0);\n    },\n    inputCheck(value){\n        if(value !== ''){\n            let els = value.split(\"/\");\n            if(els.length === 3){\n                let year = parseInt(this.convertDigitsPTE(els[0]));\n                let month = parseInt(this.convertDigitsPTE(els[1]));\n                let day = parseInt(this.convertDigitsPTE(els[2]));\n                if(isNaN(month)){\n                    month = this.monthNames.indexOf(els[1]) + 1;\n                }\n                if(!isNaN(year) && !isNaN(day) && month !== -1){\n                    if(month < 1 || month > 12) return false;\n                    if(month <= 6 && (day < 1 || day > 31)) return false;\n                    if(month > 6 && (day < 1 || day > 30)) return false;\n                    if(year < 1300) year += 1300;\n                    if(year < this.cMinimumYear || year > this.cMaximumYear) return false;\n                    return true;\n                }\n            }\n        }\n        return false;\n    },\n    inputChanged(value){\n        if(this.inputCheck(value)) {\n            let els = value.split(\"/\");\n            let year = parseInt(this.convertDigitsPTE(els[0]));\n            let month = parseInt(this.convertDigitsPTE(els[1]));\n            let day = parseInt(this.convertDigitsPTE(els[2]));\n            if(isNaN(month)){\n                month = this.monthNames.indexOf(els[1]) + 1;\n            }\n            this.goToMonth(year, month - 1, day);\n            // this.updateInput();\n            // this.dayClicked(day);\n        }\n    },\n    ifDayBoxIsChosenDay(day){\n        return this.chosenYear === this.displayingYear &&\n                this.chosenMonth === (this.displayingMonthNum + 1) &&\n                this.chosenDay === day;\n    },\n    ifMonthBoxChosenMonth(month){\n        return this.chosenYear === this.displayingYear &&\n                this.chosenMonth === month + 1;\n    },\n    ifYearBoxChosenYear(year){\n        return this.chosenYear === year;\n    },\n    goToToday(){\n        let today = new Date();\n        this.gtoday = this.gregorian_to_jalali(today.getFullYear(), today.getMonth() + 1, today.getDate());\n        this.chosenDay = this.gtoday[2];\n        this.chosenMonth = this.gtoday[1];\n        this.chosenYear = this.gtoday[0];\n        \n        this.goToMonth(this.chosenYear, this.chosenMonth - 1, this.chosenDay);\n    },\n    goToMonth(year, month, day){\n        var gfirstOfMonth = this.jalali_to_gregorian(year, month + 1, 1);\n\n        var firstOfMonth = new Date(gfirstOfMonth[0], gfirstOfMonth[1] - 1, gfirstOfMonth[2] + 1);\n        this.firstDayOfMonth = (firstOfMonth.getDay()) %7 ;\n        this.daysInMonth = this.gatDaysInMonth(month);\n        this.displayingMonthNum = month;\n\n        let yearch = this.displayingYear !== year;\n        let monthch = this.displayingMonth !== this.monthNames[month];\n\n        this.displayingYear = year;\n        this.displayingMonth = this.monthNames[month];\n\n        if(monthch)\n            this.$emit('monthChanged', this.value);\n        if(yearch)\n            this.$emit('yearChanged', this.value);\n    },\n    gatDaysInMonth(monthNumber){\n        if(monthNumber == 11){\n            return this.isLeapYear(this.displayingYear) ? 30 : 29;\n        }\n        return monthNumber <= 5 ? 31 : 30;\n    },\n    isLeapYear(year){\n        let rm = year % 33;\n        if(year <= 1342)\n            return rm == 1 || rm == 5 || rm == 9 || rm == 13 || rm == 17 || rm == 21 || rm == 26 || rm == 30;\n        return rm == 1 || rm == 5 || rm == 9 || rm == 13 || rm == 17 || rm == 22 || rm == 26 || rm == 30;\n    },\n    preMonthClicked(){\n        let newMonth = this.displayingMonthNum - 1;\n        let newYear = this.displayingYear;\n        if(newMonth < 0){\n            if(newYear - 1 >= this.cMinimumYear) {\n                newMonth = 11;\n                newYear--;\n            } else {\n                newMonth = 0;\n            }\n        }\n        this.goToMonth(newYear, newMonth, 1);\n    },\n    nextMonthClicked(){\n        let newMonth = this.displayingMonthNum + 1;\n        let newYear = this.displayingYear;\n        if(newMonth > 11){\n            if(newYear + 1 <= this.cMaximumYear) {\n                newMonth = 0;\n                newYear++;\n            } else {\n                newMonth = 11;\n            }\n        }\n        this.goToMonth(newYear, newMonth, 1);\n    },\n    dayClicked(day){\n        if(!this.isDialogOpen ||\n            (this.availableDates && !this.isDateInRange(day))){\n            return;\n        }\n        this.chosenDay = day;\n        this.chosenMonth = this.displayingMonthNum + 1;\n        this.chosenYear = this.displayingYear;\n        this.updateInput();\n        this.closeDialog();\n    },\n    monthClicked(month){\n        this.displayingMonthNum = month;\n        this.isMonthView = false;\n        this.isYearView = false;\n        this.isDayView = true;\n        this.goToMonth(this.displayingYear, this.displayingMonthNum, 1);\n    },\n    yearClicked(year){\n        this.displayingYear = year;\n        this.isMonthView = true;\n        this.isYearView = false;\n        this.isDayView = false;\n        this.goToMonthSelect();\n    },\n    goToYearSelect(event){\n        this.isMonthView = false;\n        this.isDayView = false;\n        this.isYearView = true;\n        this.$nextTick(function () {\n            let target = this.$el.querySelector('#year-' + this.displayingYear);\n            target.parentNode.scrollTop = target.offsetTop - target.parentNode.offsetTop;\n        });\n    },\n    updateInput(){\n        let str = this.toFormatDate(this.chosenYear, this.chosenMonth, this.chosenDay);\n        if(this.persianDigits)\n            this.formatedChosenDate = this.convertDigitsETP(str);\n        else\n            this.formatedChosenDate = this.convertDigitsPTE(str);\n        this.$emit('selected', { year: this.chosenYear, month: this.chosenMonth, day: this.chosenDay});\n        this.$emit('input', str);\n    },\n    numToStr(num){\n        if(this.persianDigits){\n            return this.convertDigitsETP('' + num);\n        }\n        return '' + num;\n    },\n    nextYearClicked(){\n        if(this.displayingYear + 1 <= this.cMaximumYear) {\n            this.displayingYear++;\n            this.$emit('yearChanged', this.value);\n        }\n    },\n    preYearClicked(){\n        if(this.displayingYear - 1 >= this.cMinimumYear) {\n            this.displayingYear--;\n            this.$emit('yearChanged', this.value);\n        }\n    },\n    goToMonthSelect(){\n        this.isDayView = false;\n        this.isMonthView = true;\n        this.chosenMonth = this.displayingMonthNum + 1;\n        this.$emit('monthChanged', this.value);\n    },\n    toFormatDate(year, month, day){\n        let elements = this.formatDate.split(\"/\");\n        let outYear = '' + elements[0] === \"yyyy\" ? year : year - 1300;\n        let outMonth = '';\n        if(elements[1] === 'M') outMonth = month;\n        else if(elements[1] === 'MM'){\n            if(month < 10) outMonth = '0' + month;\n            else outMonth =  month;\n        }\n        else if(elements[1] === 'MMM') outMonth = this.monthNames[month - 1];\n        let outDay = elements[2] === 'dd' && day < 10 ? '0' + day : day;\n        return outYear + \"/\" + outMonth + \"/\" + outDay;\n    },\n    onExit(ev) {\n        if (!this.$el.contains(ev.target))\n            this.closeDialog();\n    },    \n    /**\n     * This function convert english digits to persian ones.\n     * @param {String} unconverted string\n     * @returns {String} converted string\n     */\n    convertDigitsPTE(str){\n      return this.replaceAllArray(str,\n        ['۰', '۱', '۲', '۳', '۴', '۵', '۶', '۷', '۸', '۹'],\n        ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9']);\n    },\n    /**\n     * This function convert persian digits to english ones.\n     * @param {String} unconverted string\n     * @returns {String} converted string\n     */\n    convertDigitsETP(str){\n      return this.replaceAllArray(str,\n        ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9'],\n        ['۰', '۱', '۲', '۳', '۴', '۵', '۶', '۷', '۸', '۹']);\n    },\n    replaceAllArray(str, find, replace){\n        let replacedStr = str;\n        for(let i=0; i<find.length; i++){\n            replacedStr = replacedStr.split(find[i]).join(replace[i]);\n        }\n        return replacedStr;\n    },\n    gregorian_to_jalali( gy, gm, gd) {\n        var g_d_m=[0,31,59,90,120,151,181,212,243,273,304,334];\n        var jy, jm, jd, gy2, days;\n        if(gy > 1600) {\n            jy=979;\n            gy-=1600;\n        } else {\n            jy=0;\n            gy-=621;\n        }\n        gy2=(gm > 2)?(gy+1):gy;\n        days=(365*gy) +(parseInt(( gy2 + 3 ) / 4)) -(parseInt((gy2+99)/100)) +(parseInt((gy2+399)/400)) -80 +gd +g_d_m[gm-1];\n        jy += 33 * (parseInt( days / 12053));\n        days%=12053;\n        jy += 4*(parseInt(days/1461));\n        days%=1461;\n        if(days > 365){\n            jy+=parseInt((days-1)/365);\n            days=(days-1)%365;\n        }\n        jm=(days < 186)?1+parseInt(days/31):7+parseInt((days-186)/30);\n        jd=1+((days < 186)?(days%31):((days-186)%30));\n        return [jy,jm,jd];\n    },\n    jalali_to_gregorian( jy, jm, jd) {\n        var gy, gm, gd, days, sal_a, v;\n        if(jy > 979){\n            gy=1600;\n            jy-=979;\n        }else{\n            gy=621;\n        }\n        days=(365*jy) +((parseInt(jy/33))*8) +(parseInt(((jy%33)+3)/4)) +78 +jd +((jm<7)?(jm-1)*31:((jm-7)*30)+186);\n        gy+=400*(parseInt(days/146097));\n        days%=146097;\n        if(days > 36524) {\n            gy+=100*(parseInt(--days/36524));\n            days%=36524;\n            if(days >= 365)days++;\n        }\n        gy+=4*(parseInt(days/1461));\n        days%=1461;\n        if(days > 365){\n            gy+=parseInt((days-1)/365);\n            days=(days-1)%365;\n        }\n        gd=days+1;\n        sal_a=[0,31,((gy%4==0 && gy%100!=0) || (gy%400==0))?29:28,31,30,31,30,31,31,30,31,30,31];\n        for(gm=0; gm < 13; gm++) {\n            v=sal_a[gm];\n            if(gd <= v)break;\n            gd-=v;\n        }\n        return [gy,gm,gd];\n    }\n  }\n}\n</script>\n\n<style lang='scss' scoped>\n    @mixin clearfix() {\n        &::after {\n          display: block;\n          content: \"\";\n          clear: both;\n        }\n    }\n    $dialog-width: 270px;\n    $box-width : $dialog-width / 7;\n    $month_box_width : $dialog-width / 3;\n    $font-size: 14px;\n\n    .pdatepicker{\n        position: relative;\n        display: inline-block;\n        * {\n            box-sizing: border-box;\n        }\n        input{\n            text-align: left;\n            direction: rtl;\n            width : $dialog-width;\n            background-color: white;\n            color: black;\n        }\n        .pdatepicker-dialog{\n            position: absolute;\n            border: 1px solid gray;\n            box-shadow: 0px 0px 2px 0px gray;\n            background-color: #fafafa;\n            z-index: 100000;\n            width: $dialog-width + 2;\n            font-size: 0;\n\n            span{\n                font-size: $font-size;\n            }\n            .pdatepicker-dialog-header{\n                width: 100%;\n                box-shadow: 0px 0px 5px 0px gray;\n                @include clearfix;\n            }\n            .endofweek, .endofseason{\n                padding: 0px;\n                margin: 0px;\n                width: 0px;\n                height: 0px;\n                @include clearfix();\n            }\n            .day-view{\n                text-align: right;\n                .pdatepicker-dialog-month{\n                    width: 100%;\n                    div{\n                        display: inline-block;\n                        text-align: center;\n                        padding: 10px 0;\n                        cursor: pointer;\n                        font-size: $font-size;\n                    }\n                    .nextMonth{\n                        float: right;\n                        width: 10%;\n                        &:hover{\n                            background-color: rgba(200, 200, 200, 0.6);\n                        }\n                    }\n                    .preMonth{\n                        float: right;\n                        width: 10%;\n                        &:hover{\n                            background-color: rgba(200, 200, 200, 0.6);\n                        }\n                    }\n                    .monthName{\n                        float: right;\n                        width: 80%;\n                        &:hover{\n                            background-color: rgba(200, 200, 200, 0.6);\n                        }\n                    }\n                }\n                .pdatepicker-dialog-week{\n                    width: 100%;\n                }\n                .day-box{\n                    width: $box-width;\n                    height: $box-width;\n                    line-height: $box-width;\n                    display: inline-block;\n                    text-align: center;\n                    border: 1px solid transparent;\n                    padding:0;\n                    cursor: pointer;\n                    vertical-align: middle;\n                    border-radius: 50%;\n                    position: relative;\n                    .hover-effect{\n                        position: absolute;\n                        top: 0px;\n                        right: 0px;\n                        width: 100%;\n                        height: 100%;\n                        border-radius: 50%;\n                        transition: transform 150ms ease-out;\n                        z-index: 1;\n                        transform: scale(0);\n                    }\n                    .num{\n                        z-index: 2;\n                        position: relative;\n                    }\n                    &:hover{\n                        border: 1px solid transparent;\n                        .hover-effect{\n                            transform: scale(1);\n                        }\n                    }\n                    &.disabled-day{\n                        background-color: #e3e3e3;\n                        cursor: default;\n                        .hover-effect{\n                            display: none !important;\n                        }\n                    }\n\n                    &.chosen-day{\n                        .hover-effect{\n                            transform: scale(1) !important;\n                        }\n                    }\n\n\n                }\n\n                .day-name{\n                    border-bottom: 1px solid gray;\n                    &:hover{\n                        cursor: default;\n                        border-bottom: 1px solid gray;\n                    }\n                }\n                .empty-box{\n                    cursor: default;\n                    &:hover{\n                        border: inherit;\n                    }\n                }\n            }\n            .month-view{\n                text-align: center;\n                .pdatepicker-dialog-year{\n                    width: 100%;\n                    div{\n                        display: inline-block;\n                        text-align: center;\n                        padding: 10px 0;\n                        cursor: pointer;\n                        font-size: $font-size;\n                    }\n                    .nextYear{\n                        float: right;\n                        width: 10%;\n                    }\n                    .preYear{\n                        float: right;\n                        width: 10%;\n                    }\n                    .cyear{\n                        float: right;\n                        width: 80%;\n                    }\n                }\n                .month-box{\n                    width: $month_box_width;\n                    line-height: $box-width;\n                    display: inline-block;\n                    text-align: center;\n                    border: 1px solid rgba(200, 200, 200, 0);\n                    padding:0 5px;\n                    cursor: pointer;\n                    font-size: $font-size;\n                    position: relative;\n                    .hover-effect{\n                        position: absolute;\n                        top: 0px;\n                        right: 0px;\n                        width: 100%;\n                        height: 100%;\n                        transition: transform 150ms ease-out;\n                        z-index: 1;\n                        transform: scale(0);\n                        z-index: 1;\n                    }\n                    .num{\n                        position: relative;\n                        z-index: 2;\n                    }\n                    &:hover{\n                        border: 1px solid rgb(200, 200, 200);\n                        .hover-effect{\n                            transform: scale(1);\n                        }\n                    }\n                    &.chosen-month{\n                        .hover-effect{\n                            transform: scale(1) !important;\n                        }\n                    }\n                }\n            }\n            .year-view{\n                width: 100%;\n                height: 250px;\n                overflow: scroll;\n                overflow-x: hidden;\n                .year-box{\n                    display: inline-block;\n                    text-align: center;\n                    padding: 10px 0;\n                    cursor: pointer;\n                    font-size: $font-size;\n                    width: 25%;\n                    position: relative;\n                    border: 1px solid rgba(200, 200, 200, 0);\n                    .hover-effect{\n                        position: absolute;\n                        top: 0px;\n                        right: 0px;\n                        width: 100%;\n                        height: 100%;\n                        transition: transform 150ms ease-out;\n                        z-index: 1;\n                        transform: scale(0);\n                        z-index: 1;\n                    }\n                    .num{\n                        position: relative;\n                        z-index: 2;\n                    }\n                    &:hover{\n                        border: 1px solid rgb(200, 200, 200);\n                        .hover-effect{\n                            transform: scale(1);\n                        }\n                    }\n                    &.chosen-year{\n                        .hover-effect{\n                            transform: scale(1) !important;\n                        }\n                    }\n                }\n            }\n        }\n        &.inline{\n            display: inline-block;\n            .pdatepicker-dialog{\n                 position: static;\n            }\n        }\n    }\n\n    .modal-overlay{\n        position: fixed;\n        top: 0px;\n        right: 0px;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.6);\n        z-index: 10000;\n    }\n    .modal-dialog{\n        position: fixed !important ;\n        right: 50%;\n        top: 50%;\n        transform: translate(50%, -50%);\n        z-index: 10001;\n        box-shadow: 0px 0px 5px 2px rgb(26, 26, 26);\n        transition: all 150ms ease-out;\n    }\n\n    /*** Animations ***/\n    /** Scale Fade **/\n    .fade-enter-active {\n        transition: all 300ms ease-out;\n    }\n    .fade-leave-active {\n        transition: all 300ms ease-out;\n    }\n\n    .fade-leave-to, .fade-enter\n    {\n        opacity: 0;\n        position: absolute;\n        top: 0px;\n    }\n\n    .fade-enter-to, .fade-leave{\n        opacity: 1;\n    }\n\n    /** Scale Fade **/\n    .scale-fade-enter-active {\n        transition: all 300ms ease-out;\n    }\n    .scale-fade-leave-active {\n        transition: all 300ms ease-out;\n    }\n\n    .scale-fade-enter, .scale-fade-leave-to\n    {\n        transform: translate(50%, -50%) scale(0.7);\n        opacity: 0;\n    }\n\n    .scale-fade-enter-to{\n        transform: translate(50%, -50%) scale(1.05);\n        opacity: 1;\n    }\n    .scale-fade-leave{\n        transform: translate(50%, -50%) scale(1.1);\n        opacity: 1;\n    }\n\n    /** Slide Fade **/\n    .slide-fade-enter-active {\n        transition: all 300ms ease-out;\n    }\n    .slide-fade-leave-active {\n        transition: all 300ms ease-out;\n    }\n\n    .slide-fade-enter, .slide-fade-leave-to\n    {\n        transform: translateY(-10px);\n        opacity: 0;\n    }\n\n    .slide-fade-enter-to, .slide-fade-leave{\n        transform: translateY(0px);\n        opacity: 1;\n    }\n\n</style>\n"]}]}